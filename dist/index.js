!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=72)}([function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(1),o=n(0),i=n(12),s=n(8),a=n(9),c=function(e,t,n){var l,u,f,d=e&c.F,p=e&c.G,v=e&c.S,y=e&c.P,m=e&c.B,h=e&c.W,g=p?o:o[t]||(o[t]={}),x=g.prototype,b=p?r:v?r[t]:(r[t]||{}).prototype;for(l in p&&(n=t),n)(u=!d&&b&&void 0!==b[l])&&a(g,l)||(f=u?b[l]:n[l],g[l]=p&&"function"!=typeof b[l]?n[l]:m&&u?i(f,r):h&&b[l]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):y&&"function"==typeof f?i(Function.call,f):f,y&&((g.virtual||(g.virtual={}))[l]=f,e&c.R&&x&&!x[l]&&s(x,l,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(39)("wks"),o=n(25),i=n(1).Symbol,s="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(13)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(5),o=n(50),i=n(32),s=Object.defineProperty;t.f=n(6)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(7),o=n(17);e.exports=n(6)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(33),o=n(34);e.exports=function(e){return r(o(e))}},function(e,t,n){e.exports=n(73)},function(e,t,n){var r=n(16);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t,n){var r=n(34);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,n){var r=n(57),o=n(40);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(7).f,o=n(9),i=n(3)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){n(81);for(var r=n(1),o=n(8),i=n(14),s=n(3)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var l=a[c],u=r[l],f=u&&u.prototype;f&&!f[s]&&o(f,s,l),i[l]=i.Array}},function(e,t,n){var r=n(37),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(25)("meta"),o=n(4),i=n(9),s=n(7).f,a=0,c=Object.isExtensible||function(){return!0},l=!n(13)((function(){return c(Object.preventExtensions({}))})),u=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&f.NEED&&c(e)&&!i(e,r)&&u(e),e}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(12),o=n(60),i=n(61),s=n(5),a=n(24),c=n(45),l={},u={};(t=e.exports=function(e,t,n,f,d){var p,v,y,m,h=d?function(){return e}:c(e),g=r(n,f,t?2:1),x=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(i(h)){for(p=a(e.length);p>x;x++)if((m=t?g(s(v=e[x])[0],v[1]):g(e[x]))===l||m===u)return m}else for(y=h.call(e);!(v=y.next()).done;)if((m=o(y,g,v.value,t))===l||m===u)return m}).BREAK=l,t.RETURN=u},function(e,t,n){"use strict";var r=n(120)(!0);n(54)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(4),o=n(1).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(18);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(22),o=n(17),i=n(10),s=n(32),a=n(9),c=n(50),l=Object.getOwnPropertyDescriptor;t.f=n(6)?l:function(e,t){if(e=i(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(a(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){e.exports=n(8)},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(39)("keys"),o=n(25);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(0),o=n(1),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(19)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(12),o=n(33),i=n(15),s=n(24),a=n(89);e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,u=4==e,f=6==e,d=5==e||f,p=t||a;return function(t,a,v){for(var y,m,h=i(t),g=o(h),x=r(a,v,3),b=s(g.length),w=0,S=n?p(t,b):c?p(t,0):void 0;b>w;w++)if((d||w in g)&&(m=x(y=g[w],w,h),e))if(n)S[w]=m;else if(m)switch(e){case 3:return!0;case 5:return y;case 6:return w;case 2:S.push(y)}else if(u)return!1;return f?-1:l||u?u:S}}},function(e,t,n){var r=n(18);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(8);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(46),o=n(3)("iterator"),i=n(14);e.exports=n(0).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(18),o=n(3)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(57),o=n(40).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){"use strict";var r=n(16);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},function(e,t,n){e.exports=!n(6)&&!n(13)((function(){return 7!=Object.defineProperty(n(31)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){e.exports=n(77)},function(e,t,n){var r=n(2),o=n(0),i=n(13);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",s)}},function(e,t){},function(e,t,n){"use strict";var r=n(19),o=n(2),i=n(36),s=n(8),a=n(14),c=n(84),l=n(21),u=n(87),f=n(3)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,v,y,m,h){c(n,t,v);var g,x,b,w=function(e){if(!d&&e in _)return _[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",P="values"==y,C=!1,_=e.prototype,A=_[f]||_["@@iterator"]||y&&_[y],M=A||w(y),k=y?P?w("entries"):M:void 0,B="Array"==t&&_.entries||A;if(B&&(b=u(B.call(new e)))!==Object.prototype&&b.next&&(l(b,S,!0),r||"function"==typeof b[f]||s(b,f,p)),P&&A&&"values"!==A.name&&(C=!0,M=function(){return A.call(this)}),r&&!h||!d&&!C&&_[f]||s(_,f,M),a[t]=M,a[S]=p,y)if(g={values:P?M:w("values"),keys:m?M:w("keys"),entries:k},h)for(x in g)x in _||i(_,x,g[x]);else o(o.P+o.F*(d||C),t,g);return g}},function(e,t,n){var r=n(5),o=n(56),i=n(40),s=n(38)("IE_PROTO"),a=function(){},c=function(){var e,t=n(31)("iframe"),r=i.length;for(t.style.display="none",n(58).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(7),o=n(5),i=n(20);e.exports=n(6)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),a=s.length,c=0;a>c;)r.f(e,n=s[c++],t[n]);return e}},function(e,t,n){var r=n(9),o=n(10),i=n(85)(!1),s=n(38)("IE_PROTO");e.exports=function(e,t){var n,a=o(e),c=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;t.length>c;)r(a,n=t[c++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){var r=n(1).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";var r=n(6),o=n(20),i=n(27),s=n(22),a=n(15),c=n(33),l=Object.assign;e.exports=!l||n(13)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=a(e),l=arguments.length,u=1,f=i.f,d=s.f;l>u;)for(var p,v=c(arguments[u++]),y=f?o(v).concat(f(v)):o(v),m=y.length,h=0;m>h;)p=y[h++],r&&!d.call(v,p)||(n[p]=v[p]);return n}:l},function(e,t,n){var r=n(5);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(14),o=n(3)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){"use strict";var r=n(7),o=n(17);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){t.f=n(3)},function(e,t,n){e.exports=n(115)},function(e,t,n){e.exports=n(122)},function(e,t,n){var r=n(3)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(e){}return n}},function(e,t,n){e.exports=n(139)},function(e,t,n){var r=n(5),o=n(16),i=n(3)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[i])?t:o(n)}},function(e,t,n){var r,o,i,s=n(12),a=n(141),c=n(58),l=n(31),u=n(1),f=u.process,d=u.setImmediate,p=u.clearImmediate,v=u.MessageChannel,y=u.Dispatch,m=0,h={},g=function(){var e=+this;if(h.hasOwnProperty(e)){var t=h[e];delete h[e],t()}},x=function(e){g.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return h[++m]=function(){a("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete h[e]},"process"==n(18)(f)?r=function(e){f.nextTick(s(g,e,1))}:y&&y.now?r=function(e){y.now(s(g,e,1))}:v?(i=(o=new v).port2,o.port1.onmessage=x,r=s(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",x,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(s(g,e,1),0)}),e.exports={set:d,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(5),o=n(4),i=n(49);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(30);n(11)(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(75)).default;t.default=o},function(e,t,n){n(74);var r=n(0).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(2);r(r.S+r.F*!n(6),"Object",{defineProperty:n(7).f})},function(e,t,n){"use strict";var r=n(76),o=n(30);n(11)(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n(11)),s=o(n(97)),a=o(n(100)),c=o(n(51)),l=o(n(104)),u=o(n(110)),f=o(n(113)),d=o(n(125)),p=o(n(132)),v=o(n(135)),y=o(n(137)),m=o(n(138)),h=o(n(147)),g=o(n(148)),x=r(n(149)),b=o(n(151));function w(e,t){var n=(0,u.default)(e);if(l.default){var r=(0,l.default)(e);t&&(r=r.filter((function(t){return(0,c.default)(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){(0,y.default)(e,t,n[t])})):a.default?(0,s.default)(e,(0,a.default)(n)):w(n).forEach((function(t){(0,i.default)(e,t,(0,c.default)(n,t))}))}return e}var P={textureFilePath:void 0,textureScale:1,boxFillPercentage:.6,enableMouseWheel:!0,hoverVelocityScale:1.8,isDevMode:!1,textureHidden:!1},C=function(){function e(t,n){var r=this;(0,h.default)(this,e),this._getStack=(0,m.default)(v.default.mark((function e(){var t,n,o,i,s,a;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.default)(r.sprite.texture);case 2:return t=e.sent,n=t.width,o=t.height,i={render:{sprite:r.sprite},frictionAir:.03},s=r.domTarget.clientWidth,a=r.domTarget.clientHeight,e.abrupt("return",x.Composites.stack(0,-a,s/n+1,a*r.boxFillPercentage/o+1,0,-o/2,(function(e,t){var r=Math.round(x.Common.random(1,8)),s=null;(r=3===r?4:r)>2&&x.Common.random()>.7&&(s={radius:10});var a=n>o?o:n,c=a/3,l=.9*a;switch(Math.round(x.Common.random(0,1))){case 0:return x.Bodies.rectangle(e,t,x.Common.random(c,l),x.Common.random(c,l),S({chamfer:s},i));case 1:return x.Bodies.polygon(e,t,r,x.Common.random(c,l)/2,S({chamfer:s},i))}})));case 9:case"end":return e.stop()}}),e)})));var o=(0,p.default)({},P,n),i=o.textureFilePath,s=o.textureScale,a=o.boxFillPercentage,c=o.enableMouseWheel,l=o.hoverVelocityScale,u=o.isDevMode;o.isTextureHidden;this.domTarget=document.querySelector(t)||document.body,this.enableMouseWheel=c,this.hoverVelocityScale=l,this.isDevMode=u,this.isTextureHidden=u,this.sprite={texture:i,xScale:s,yScale:s},this.boxFillPercentage=a,this._initMatter(),this._addResizeEventListener()}var t;return(0,g.default)(e,[{key:"play",value:function(){this.render.run()}},{key:"stop",value:function(){this.render.stop()}},{key:"kill",value:function(){this.render.canvas.remove()}},{key:"_preventDomTargetTouchMove",value:function(){this.domTarget.ontouchend=function(e){e.preventDefault()}}},{key:"_addResizeEventListener",value:function(){var e=this;window.addEventListener("resize",(function(){window.innerWidth!=e.cacheDomTargetWidth&&(e.kill(),e._initMatter())}),!1)}},{key:"_initMatter",value:(t=(0,m.default)(v.default.mark((function e(){var t,n,r;return v.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.engine=x.Engine.create(),this._createRender(),this._createRunner(),this.cacheDomTargetWidth=this.domTarget.clientWidth,e.next=6,this._getStack();case 6:t=e.sent,this.stack=t,n=this._getWallList(),r=this._getMouseControl(),this._fitRenderViewportToScene(),x.World.add(this.engine.world,[t].concat((0,d.default)(n),[r]));case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_fitRenderViewportToScene",value:function(){var e=this.domTarget,t=e.clientWidth,n=e.clientHeight;x.Render.lookAt(this.render,{min:{x:0,y:0},max:{x:t,y:n}})}},{key:"_getMouseControl",value:function(){var e=this,t=x.Mouse.create(this.render.canvas);this.enableMouseWheel&&(t.element.removeEventListener("DOMMouseScroll",t.mousewheel),t.element.removeEventListener("mousewheel",t.mousewheel)),this.render.mouse=t;var n=x.MouseConstraint.create(this.engine,{mouse:t,constraint:{stiffness:.2,render:{visible:!1}}});return this.prevMousePosition={},x.Events.on(n,"mousemove",(function(t){var n=t.mouse.position,r=x.default.Query.point(e.stack.bodies,n),o=(0,f.default)(r,1)[0],i=n.x,s=n.y;if(o){var a=e.prevMousePosition,c=a.x,l=a.y;x.Body.setVelocity(o,{x:(i-c)*e.hoverVelocityScale,y:(s-l)*e.hoverVelocityScale})}e.prevMousePosition={x:i,y:s}})),n}},{key:"_getWallList",value:function(){var e=this.domTarget.clientWidth,t=this.domTarget.clientHeight,n={isStatic:!0,restitution:.9};return[x.Bodies.rectangle(e/2,t+25,e,50,n),x.Bodies.rectangle(-25,0,50,2*t,n),x.Bodies.rectangle(e+25,0,50,2*t,n),x.Bodies.rectangle(e/2,-t,e,50,n)]}},{key:"_createEngine",value:function(){this.engine=x.Engine.create()}},{key:"_createRender",value:function(){this.render=x.Render.create({element:this.domTarget,engine:this.engine,options:{width:this.domTarget.clientWidth,height:this.domTarget.clientHeight,showAngleIndicator:this.isDevMode,showVelocity:this.isDevMode,wireframes:this.isTextureHidden}}),x.Render.run(this.render)}},{key:"_createRunner",value:function(){this.runner=x.Runner.create(),x.Runner.run(this.runner,this.engine)}}]),e}();t.default=C},function(e,t,n){var r=n(51),o=n(11),i=n(79);function s(){if("function"!=typeof i)return null;var e=new i;return s=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;var t=s();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var i=o&&r;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var c=i?r(e,a):null;c&&(c.get||c.set)?o(n,a,c):n[a]=e[a]}}return n.default=e,t&&t.set(e,n),n}},function(e,t,n){n(78);var r=n(0).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(10),o=n(35).f;n(52)("getOwnPropertyDescriptor",(function(){return function(e,t){return o(r(e),t)}}))},function(e,t,n){e.exports=n(80)},function(e,t,n){n(53),n(23),n(88),n(93),n(95),e.exports=n(0).WeakMap},function(e,t,n){"use strict";var r=n(82),o=n(83),i=n(14),s=n(10);e.exports=n(54)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(55),o=n(17),i=n(21),s={};n(8)(s,n(3)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(10),o=n(24),i=n(86);e.exports=function(e){return function(t,n,s){var a,c=r(t),l=o(c.length),u=i(s,l);if(e&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(37),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(9),o=n(15),i=n(38)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){"use strict";var r,o=n(1),i=n(41)(0),s=n(36),a=n(26),c=n(59),l=n(91),u=n(4),f=n(47),d=n(47),p=!o.ActiveXObject&&"ActiveXObject"in o,v=a.getWeak,y=Object.isExtensible,m=l.ufstore,h=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(u(e)){var t=v(e);return!0===t?m(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(f(this,"WeakMap"),e,t)}},x=e.exports=n(92)("WeakMap",h,g,l,!0,!0);d&&p&&(c((r=l.getConstructor(h,"WeakMap")).prototype,g),a.NEED=!0,i(["delete","has","get","set"],(function(e){var t=x.prototype,n=t[e];s(t,e,(function(t,o){if(u(t)&&!y(t)){this._f||(this._f=new r);var i=this._f[e](t,o);return"set"==e?this:i}return n.call(this,t,o)}))})))},function(e,t,n){var r=n(90);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(4),o=n(42),i=n(3)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(43),o=n(26).getWeak,i=n(5),s=n(4),a=n(44),c=n(28),l=n(41),u=n(9),f=n(47),d=l(5),p=l(6),v=0,y=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},h=function(e,t){return d(e.a,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=h(this,e);if(t)return t[1]},has:function(e){return!!h(this,e)},set:function(e,t){var n=h(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var l=e((function(e,r){a(e,l,t,"_i"),e._t=t,e._i=v++,e._l=void 0,null!=r&&c(r,n,e[i],e)}));return r(l.prototype,{delete:function(e){if(!s(e))return!1;var n=o(e);return!0===n?y(f(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!s(e))return!1;var n=o(e);return!0===n?y(f(this,t)).has(e):n&&u(n,this._i)}}),l},def:function(e,t,n){var r=o(i(t),!0);return!0===r?y(e).set(t,n):r[e._i]=n,e},ufstore:y}},function(e,t,n){"use strict";var r=n(1),o=n(2),i=n(26),s=n(13),a=n(8),c=n(43),l=n(28),u=n(44),f=n(4),d=n(21),p=n(7).f,v=n(41)(0),y=n(6);e.exports=function(e,t,n,m,h,g){var x=r[e],b=x,w=h?"set":"add",S=b&&b.prototype,P={};return y&&"function"==typeof b&&(g||S.forEach&&!s((function(){(new b).entries().next()})))?(b=t((function(t,n){u(t,b,e,"_c"),t._c=new x,null!=n&&l(n,h,t[w],t)})),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;e in S&&(!g||"clear"!=e)&&a(b.prototype,e,(function(n,r){if(u(this,b,e),!t&&g&&!f(n))return"get"==e&&void 0;var o=this._c[e](0===n?0:n,r);return t?this:o}))})),g||p(b.prototype,"size",{get:function(){return this._c.size}})):(b=m.getConstructor(t,e,h,w),c(b.prototype,n),i.NEED=!0),d(b,e),P[e]=b,o(o.G+o.W+o.F,P),g||m.setStrong(b,e,h),b}},function(e,t,n){n(94)("WeakMap")},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(96)("WeakMap")},function(e,t,n){"use strict";var r=n(2),o=n(16),i=n(12),s=n(28);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,a,c=arguments[1];return o(this),(t=void 0!==c)&&o(c),null==e?new this:(n=[],t?(r=0,a=i(c,arguments[2],2),s(e,!1,(function(e){n.push(a(e,r++))}))):s(e,!1,n.push,n),new this(n))}})}},function(e,t,n){e.exports=n(98)},function(e,t,n){n(99);var r=n(0).Object;e.exports=function(e,t){return r.defineProperties(e,t)}},function(e,t,n){var r=n(2);r(r.S+r.F*!n(6),"Object",{defineProperties:n(56)})},function(e,t,n){e.exports=n(101)},function(e,t,n){n(102),e.exports=n(0).Object.getOwnPropertyDescriptors},function(e,t,n){var r=n(2),o=n(103),i=n(10),s=n(35),a=n(62);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),c=s.f,l=o(r),u={},f=0;l.length>f;)void 0!==(n=c(r,t=l[f++]))&&a(u,t,n);return u}})},function(e,t,n){var r=n(48),o=n(27),i=n(5),s=n(1).Reflect;e.exports=s&&s.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){e.exports=n(105)},function(e,t,n){n(106),e.exports=n(0).Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(1),o=n(9),i=n(6),s=n(2),a=n(36),c=n(26).KEY,l=n(13),u=n(39),f=n(21),d=n(25),p=n(3),v=n(63),y=n(107),m=n(108),h=n(42),g=n(5),x=n(4),b=n(15),w=n(10),S=n(32),P=n(17),C=n(55),_=n(109),A=n(35),M=n(27),k=n(7),B=n(20),T=A.f,I=k.f,O=_.f,E=r.Symbol,R=r.JSON,L=R&&R.stringify,j=p("_hidden"),V=p("toPrimitive"),F={}.propertyIsEnumerable,W=u("symbol-registry"),D=u("symbols"),N=u("op-symbols"),q=Object.prototype,G="function"==typeof E&&!!M.f,H=r.QObject,U=!H||!H.prototype||!H.prototype.findChild,z=i&&l((function(){return 7!=C(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=T(q,t);r&&delete q[t],I(e,t,n),r&&e!==q&&I(q,t,r)}:I,X=function(e){var t=D[e]=C(E.prototype);return t._k=e,t},Q=G&&"symbol"==typeof E.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof E},Y=function(e,t,n){return e===q&&Y(N,t,n),g(e),t=S(t,!0),g(n),o(D,t)?(n.enumerable?(o(e,j)&&e[j][t]&&(e[j][t]=!1),n=C(n,{enumerable:P(0,!1)})):(o(e,j)||I(e,j,P(1,{})),e[j][t]=!0),z(e,t,n)):I(e,t,n)},K=function(e,t){g(e);for(var n,r=m(t=w(t)),o=0,i=r.length;i>o;)Y(e,n=r[o++],t[n]);return e},J=function(e){var t=F.call(this,e=S(e,!0));return!(this===q&&o(D,e)&&!o(N,e))&&(!(t||!o(this,e)||!o(D,e)||o(this,j)&&this[j][e])||t)},Z=function(e,t){if(e=w(e),t=S(t,!0),e!==q||!o(D,t)||o(N,t)){var n=T(e,t);return!n||!o(D,t)||o(e,j)&&e[j][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=O(w(e)),r=[],i=0;n.length>i;)o(D,t=n[i++])||t==j||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===q,r=O(n?N:w(e)),i=[],s=0;r.length>s;)!o(D,t=r[s++])||n&&!o(q,t)||i.push(D[t]);return i};G||(a((E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===q&&t.call(N,n),o(this,j)&&o(this[j],e)&&(this[j][e]=!1),z(this,e,P(1,n))};return i&&U&&z(q,e,{configurable:!0,set:t}),X(e)}).prototype,"toString",(function(){return this._k})),A.f=Z,k.f=Y,n(48).f=_.f=$,n(22).f=J,M.f=ee,i&&!n(19)&&a(q,"propertyIsEnumerable",J,!0),v.f=function(e){return X(p(e))}),s(s.G+s.W+s.F*!G,{Symbol:E});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=B(p.store),oe=0;re.length>oe;)y(re[oe++]);s(s.S+s.F*!G,"Symbol",{for:function(e){return o(W,e+="")?W[e]:W[e]=E(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in W)if(W[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),s(s.S+s.F*!G,"Object",{create:function(e,t){return void 0===t?C(e):K(C(e),t)},defineProperty:Y,defineProperties:K,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:ee});var ie=l((function(){M.f(1)}));s(s.S+s.F*ie,"Object",{getOwnPropertySymbols:function(e){return M.f(b(e))}}),R&&s(s.S+s.F*(!G||l((function(){var e=E();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(x(t)||void 0!==e)&&!Q(e))return h(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Q(t))return t}),r[1]=t,L.apply(R,r)}}),E.prototype[V]||n(8)(E.prototype,V,E.prototype.valueOf),f(E,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(1),o=n(0),i=n(19),s=n(63),a=n(7).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){var r=n(20),o=n(27),i=n(22);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var s,a=n(e),c=i.f,l=0;a.length>l;)c.call(e,s=a[l++])&&t.push(s);return t}},function(e,t,n){var r=n(10),o=n(48).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return s.slice()}}(e):o(r(e))}},function(e,t,n){e.exports=n(111)},function(e,t,n){n(112),e.exports=n(0).Object.keys},function(e,t,n){var r=n(15),o=n(20);n(52)("keys",(function(){return function(e){return o(r(e))}}))},function(e,t,n){var r=n(114),o=n(117),i=n(124);e.exports=function(e,t){return r(e)||o(e,t)||i()}},function(e,t,n){var r=n(64);e.exports=function(e){if(r(e))return e}},function(e,t,n){n(116),e.exports=n(0).Array.isArray},function(e,t,n){var r=n(2);r(r.S,"Array",{isArray:n(42)})},function(e,t,n){var r=n(118),o=n(65);e.exports=function(e,t){if(o(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,s=!1,a=void 0;try{for(var c,l=r(e);!(i=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(s)throw a}}return n}}},function(e,t,n){e.exports=n(119)},function(e,t,n){n(23),n(29),e.exports=n(121)},function(e,t,n){var r=n(37),o=n(34);e.exports=function(e){return function(t,n){var i,s,a=String(o(t)),c=r(n),l=a.length;return c<0||c>=l?e?"":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):i:e?a.slice(c,c+2):s-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=n(5),o=n(45);e.exports=n(0).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){n(23),n(29),e.exports=n(123)},function(e,t,n){var r=n(46),o=n(3)("iterator"),i=n(14);e.exports=n(0).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){var r=n(126),o=n(127),i=n(131);e.exports=function(e){return r(e)||o(e)||i()}},function(e,t,n){var r=n(64);e.exports=function(e){if(r(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t,n){var r=n(128),o=n(65);e.exports=function(e){if(o(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return r(e)}},function(e,t,n){e.exports=n(129)},function(e,t,n){n(29),n(130),e.exports=n(0).Array.from},function(e,t,n){"use strict";var r=n(12),o=n(2),i=n(15),s=n(60),a=n(61),c=n(24),l=n(62),u=n(45);o(o.S+o.F*!n(66)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,f,d=i(e),p="function"==typeof this?this:Array,v=arguments.length,y=v>1?arguments[1]:void 0,m=void 0!==y,h=0,g=u(d);if(m&&(y=r(y,v>2?arguments[2]:void 0,2)),null==g||p==Array&&a(g))for(n=new p(t=c(d.length));t>h;h++)l(n,h,m?y(d[h],h):d[h]);else for(f=g.call(d),n=new p;!(o=f.next()).done;h++)l(n,h,m?s(f,y,[o.value,h],!0):o.value);return n.length=h,n}})},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){e.exports=n(133)},function(e,t,n){n(134),e.exports=n(0).Object.assign},function(e,t,n){var r=n(2);r(r.S+r.F,"Object",{assign:n(59)})},function(e,t,n){e.exports=n(136)},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),s=new M(r||[]);return i._invoke=function(e,t,n){var r=u;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return B()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=C(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,s),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function h(){}var g={};g[i]=function(){return this};var x=Object.getPrototypeOf,b=x&&x(x(k([])));b&&b!==n&&r.call(b,i)&&(g=b);var w=h.prototype=y.prototype=Object.create(g);function S(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function P(e){var t;this._invoke=function(n,o){function i(){return new Promise((function(t,i){!function t(n,o,i,s){var a=l(e[n],e,o);if("throw"!==a.type){var c=a.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then((function(e){t("next",e,i,s)}),(function(e){t("throw",e,i,s)})):Promise.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return t("throw",e,i,s)}))}s(a.arg)}(n,o,t,i)}))}return t=t?t.then(i,i):i()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:B}}function B(){return{value:t,done:!0}}return m.prototype=w.constructor=h,h.constructor=m,h[a]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(P.prototype),P.prototype[s]=function(){return this},e.AsyncIterator=P,e.async=function(t,n,r,o){var i=new P(c(t,n,r,o));return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(w),w[a]="Generator",w[i]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r=n(11);e.exports=function(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(67);function o(e,t,n,o,i,s,a){try{var c=e[s](a),l=c.value}catch(e){return void n(e)}c.done?t(l):r.resolve(l).then(o,i)}e.exports=function(e){return function(){var t=this,n=arguments;return new r((function(r,i){var s=e.apply(t,n);function a(e){o(s,r,i,a,c,"next",e)}function c(e){o(s,r,i,a,c,"throw",e)}a(void 0)}))}}},function(e,t,n){n(53),n(29),n(23),n(140),n(145),n(146),e.exports=n(0).Promise},function(e,t,n){"use strict";var r,o,i,s,a=n(19),c=n(1),l=n(12),u=n(46),f=n(2),d=n(4),p=n(16),v=n(44),y=n(28),m=n(68),h=n(69).set,g=n(142)(),x=n(49),b=n(70),w=n(143),S=n(71),P=c.TypeError,C=c.process,_=C&&C.versions,A=_&&_.v8||"",M=c.Promise,k="process"==u(C),B=function(){},T=o=x.f,I=!!function(){try{var e=M.resolve(1),t=(e.constructor={})[n(3)("species")]=function(e){e(B,B)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(B)instanceof t&&0!==A.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),O=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},E=function(e,t){if(!e._n){e._n=!0;var n=e._c;g((function(){for(var r=e._v,o=1==e._s,i=0,s=function(t){var n,i,s,a=o?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{a?(o||(2==e._h&&j(e),e._h=1),!0===a?n=r:(u&&u.enter(),n=a(r),u&&(u.exit(),s=!0)),n===t.promise?l(P("Promise-chain cycle")):(i=O(n))?i.call(n,c,l):c(n)):l(r)}catch(e){u&&!s&&u.exit(),l(e)}};n.length>i;)s(n[i++]);e._c=[],e._n=!1,t&&!e._h&&R(e)}))}},R=function(e){h.call(c,(function(){var t,n,r,o=e._v,i=L(e);if(i&&(t=b((function(){k?C.emit("unhandledRejection",o,e):(n=c.onunhandledrejection)?n({promise:e,reason:o}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=k||L(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},L=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){h.call(c,(function(){var t;k?C.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},V=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),E(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw P("Promise can't be resolved itself");(t=O(e))?g((function(){var r={_w:n,_d:!1};try{t.call(e,l(F,r,1),l(V,r,1))}catch(e){V.call(r,e)}})):(n._v=e,n._s=1,E(n,!1))}catch(e){V.call({_w:n,_d:!1},e)}}};I||(M=function(e){v(this,M,"Promise","_h"),p(e),r.call(this);try{e(l(F,this,1),l(V,this,1))}catch(e){V.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(43)(M.prototype,{then:function(e,t){var n=T(m(this,M));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=k?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&E(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=l(F,e,1),this.reject=l(V,e,1)},x.f=T=function(e){return e===M||e===s?new i(e):o(e)}),f(f.G+f.W+f.F*!I,{Promise:M}),n(21)(M,"Promise"),n(144)("Promise"),s=n(0).Promise,f(f.S+f.F*!I,"Promise",{reject:function(e){var t=T(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(a||!I),"Promise",{resolve:function(e){return S(a&&this===s?M:this,e)}}),f(f.S+f.F*!(I&&n(66)((function(e){M.all(e).catch(B)}))),"Promise",{all:function(e){var t=this,n=T(t),r=n.resolve,o=n.reject,i=b((function(){var n=[],i=0,s=1;y(e,!1,(function(e){var a=i++,c=!1;n.push(void 0),s++,t.resolve(e).then((function(e){c||(c=!0,n[a]=e,--s||r(n))}),o)})),--s||r(n)}));return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=T(t),r=n.reject,o=b((function(){y(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(1),o=n(69).set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n(18)(s);e.exports=function(){var e,t,n,l=function(){var r,o;for(c&&(r=s.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(l)};else if(!i||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var u=a.resolve(void 0);n=function(){u.then(l)}}else n=function(){o.call(r,l)};else{var f=!0,d=document.createTextNode("");new i(l).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var r=n(1).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(1),o=n(0),i=n(7),s=n(6),a=n(3)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];s&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(2),o=n(0),i=n(1),s=n(68),a=n(71);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then((function(){return n}))}:e,n?function(n){return a(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(2),o=n(49),i=n(70);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var r=n(11);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(e,o.key,o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}},function(e,t,n){(function(t){var n;e.exports=function e(t,r,o){function i(a,c){if(!r[a]){if(!t[a]){if(!c&&"function"==typeof n&&n)return n(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,r,o)}return r[a].exports}for(var s="function"==typeof n&&n,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vertices"),i=e("../geometry/Vector"),s=e("../core/Sleeping"),a=(e("../render/Render"),e("../core/Common")),c=e("../geometry/Bounds"),l=e("../geometry/Axes");!function(){r._inertiaScale=4,r._nextCollidingGroupId=1,r._nextNonCollidingGroupId=-1,r._nextCategory=1,r.create=function(t){var n={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:o.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0}},r=a.extend(n,t);return e(r,t),r},r.nextGroup=function(e){return e?r._nextNonCollidingGroupId--:r._nextCollidingGroupId++},r.nextCategory=function(){return r._nextCategory=r._nextCategory<<1,r._nextCategory};var e=function(e,t){t=t||{},r.set(e,{bounds:e.bounds||c.create(e.vertices),positionPrev:e.positionPrev||i.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),o.rotate(e.vertices,e.angle,e.position),l.rotate(e.axes,e.angle),c.update(e.bounds,e.vertices,e.velocity),r.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#2e2b44":a.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]);e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||"#000",e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};r.set=function(e,t,n){var o;for(o in"string"==typeof t&&(o=t,(t={})[o]=n),t)if(n=t[o],t.hasOwnProperty(o))switch(o){case"isStatic":r.setStatic(e,n);break;case"isSleeping":s.set(e,n);break;case"mass":r.setMass(e,n);break;case"density":r.setDensity(e,n);break;case"inertia":r.setInertia(e,n);break;case"vertices":r.setVertices(e,n);break;case"position":r.setPosition(e,n);break;case"angle":r.setAngle(e,n);break;case"velocity":r.setVelocity(e,n);break;case"angularVelocity":r.setAngularVelocity(e,n);break;case"parts":r.setParts(e,n);break;default:e[o]=n}},r.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var r=e.parts[n];r.isStatic=t,t?(r._original={restitution:r.restitution,friction:r.friction,mass:r.mass,inertia:r.inertia,density:r.density,inverseMass:r.inverseMass,inverseInertia:r.inverseInertia},r.restitution=0,r.friction=1,r.mass=r.inertia=r.density=1/0,r.inverseMass=r.inverseInertia=0,r.positionPrev.x=r.position.x,r.positionPrev.y=r.position.y,r.anglePrev=r.angle,r.angularVelocity=0,r.speed=0,r.angularSpeed=0,r.motion=0):r._original&&(r.restitution=r._original.restitution,r.friction=r._original.friction,r.mass=r._original.mass,r.inertia=r._original.inertia,r.density=r._original.density,r.inverseMass=r._original.inverseMass,r.inverseInertia=r._original.inverseInertia,delete r._original)}},r.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=n*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},r.setDensity=function(e,t){r.setMass(e,t*e.area),e.density=t},r.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},r.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=o.create(t,e),e.axes=l.fromVertices(e.vertices),e.area=o.area(e.vertices),r.setMass(e,e.density*e.area);var n=o.centre(e.vertices);o.translate(e.vertices,n,-1),r.setInertia(e,r._inertiaScale*o.inertia(e.vertices,e.mass)),o.translate(e.vertices,e.position),c.update(e.bounds,e.vertices,e.velocity)},r.setParts=function(e,t,n){var i;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,i=0;i<t.length;i++){var s=t[i];s!==e&&(s.parent=e,e.parts.push(s))}if(1!==e.parts.length){if(n=void 0===n||n){var a=[];for(i=0;i<t.length;i++)a=a.concat(t[i].vertices);o.clockwiseSort(a);var c=o.hull(a),l=o.centre(c);r.setVertices(e,c),o.translate(e.vertices,l)}var u=r._totalProperties(e);e.area=u.area,e.parent=e,e.position.x=u.centre.x,e.position.y=u.centre.y,e.positionPrev.x=u.centre.x,e.positionPrev.y=u.centre.y,r.setMass(e,u.mass),r.setInertia(e,u.inertia),r.setPosition(e,u.centre)}},r.setPosition=function(e,t){var n=i.sub(t,e.position);e.positionPrev.x+=n.x,e.positionPrev.y+=n.y;for(var r=0;r<e.parts.length;r++){var s=e.parts[r];s.position.x+=n.x,s.position.y+=n.y,o.translate(s.vertices,n),c.update(s.bounds,s.vertices,e.velocity)}},r.setAngle=function(e,t){var n=t-e.angle;e.anglePrev+=n;for(var r=0;r<e.parts.length;r++){var s=e.parts[r];s.angle+=n,o.rotate(s.vertices,n,e.position),l.rotate(s.axes,n),c.update(s.bounds,s.vertices,e.velocity),r>0&&i.rotateAbout(s.position,n,e.position,s.position)}},r.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x,e.positionPrev.y=e.position.y-t.y,e.velocity.x=t.x,e.velocity.y=t.y,e.speed=i.magnitude(e.velocity)},r.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t,e.angularVelocity=t,e.angularSpeed=Math.abs(e.angularVelocity)},r.translate=function(e,t){r.setPosition(e,i.add(e.position,t))},r.rotate=function(e,t,n){if(n){var o=Math.cos(t),i=Math.sin(t),s=e.position.x-n.x,a=e.position.y-n.y;r.setPosition(e,{x:n.x+(s*o-a*i),y:n.y+(s*i+a*o)}),r.setAngle(e,e.angle+t)}else r.setAngle(e,e.angle+t)},r.scale=function(e,t,n,i){var s=0,a=0;i=i||e.position;for(var u=0;u<e.parts.length;u++){var f=e.parts[u];o.scale(f.vertices,t,n,i),f.axes=l.fromVertices(f.vertices),f.area=o.area(f.vertices),r.setMass(f,e.density*f.area),o.translate(f.vertices,{x:-f.position.x,y:-f.position.y}),r.setInertia(f,r._inertiaScale*o.inertia(f.vertices,f.mass)),o.translate(f.vertices,{x:f.position.x,y:f.position.y}),u>0&&(s+=f.area,a+=f.inertia),f.position.x=i.x+(f.position.x-i.x)*t,f.position.y=i.y+(f.position.y-i.y)*n,c.update(f.bounds,f.vertices,e.velocity)}e.parts.length>1&&(e.area=s,e.isStatic||(r.setMass(e,e.density*s),r.setInertia(e,a))),e.circleRadius&&(t===n?e.circleRadius*=t:e.circleRadius=null)},r.update=function(e,t,n,r){var s=Math.pow(t*n*e.timeScale,2),a=1-e.frictionAir*n*e.timeScale,u=e.position.x-e.positionPrev.x,f=e.position.y-e.positionPrev.y;e.velocity.x=u*a*r+e.force.x/e.mass*s,e.velocity.y=f*a*r+e.force.y/e.mass*s,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*a*r+e.torque/e.inertia*s,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=i.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var d=0;d<e.parts.length;d++){var p=e.parts[d];o.translate(p.vertices,e.velocity),d>0&&(p.position.x+=e.velocity.x,p.position.y+=e.velocity.y),0!==e.angularVelocity&&(o.rotate(p.vertices,e.angularVelocity,e.position),l.rotate(p.axes,e.angularVelocity),d>0&&i.rotateAbout(p.position,e.angularVelocity,e.position,p.position)),c.update(p.bounds,p.vertices,e.velocity)}},r.applyForce=function(e,t,n){e.force.x+=n.x,e.force.y+=n.y;var r=t.x-e.position.x,o=t.y-e.position.y;e.torque+=r*n.y-o*n.x},r._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var r=e.parts[n],o=r.mass!==1/0?r.mass:1;t.mass+=o,t.area+=r.area,t.inertia+=r.inertia,t.centre=i.add(t.centre,i.mult(r.position,o))}return t.centre=i.div(t.centre,t.mass),t}}()},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31}],2:[function(e,t,n){var r={};t.exports=r;var o=e("../core/Events"),i=e("../core/Common"),s=e("../geometry/Bounds"),a=e("./Body");r.create=function(e){return i.extend({id:i.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},r.setModified=function(e,t,n,o){if(e.isModified=t,n&&e.parent&&r.setModified(e.parent,t,n,o),o)for(var i=0;i<e.composites.length;i++){var s=e.composites[i];r.setModified(s,t,n,o)}},r.add=function(e,t){var n=[].concat(t);o.trigger(e,"beforeAdd",{object:t});for(var s=0;s<n.length;s++){var a=n[s];switch(a.type){case"body":if(a.parent!==a){i.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}r.addBody(e,a);break;case"constraint":r.addConstraint(e,a);break;case"composite":r.addComposite(e,a);break;case"mouseConstraint":r.addConstraint(e,a.constraint)}}return o.trigger(e,"afterAdd",{object:t}),e},r.remove=function(e,t,n){var i=[].concat(t);o.trigger(e,"beforeRemove",{object:t});for(var s=0;s<i.length;s++){var a=i[s];switch(a.type){case"body":r.removeBody(e,a,n);break;case"constraint":r.removeConstraint(e,a,n);break;case"composite":r.removeComposite(e,a,n);break;case"mouseConstraint":r.removeConstraint(e,a.constraint)}}return o.trigger(e,"afterRemove",{object:t}),e},r.addComposite=function(e,t){return e.composites.push(t),t.parent=e,r.setModified(e,!0,!0,!1),e},r.removeComposite=function(e,t,n){var o=i.indexOf(e.composites,t);if(-1!==o&&(r.removeCompositeAt(e,o),r.setModified(e,!0,!0,!1)),n)for(var s=0;s<e.composites.length;s++)r.removeComposite(e.composites[s],t,!0);return e},r.removeCompositeAt=function(e,t){return e.composites.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addBody=function(e,t){return e.bodies.push(t),r.setModified(e,!0,!0,!1),e},r.removeBody=function(e,t,n){var o=i.indexOf(e.bodies,t);if(-1!==o&&(r.removeBodyAt(e,o),r.setModified(e,!0,!0,!1)),n)for(var s=0;s<e.composites.length;s++)r.removeBody(e.composites[s],t,!0);return e},r.removeBodyAt=function(e,t){return e.bodies.splice(t,1),r.setModified(e,!0,!0,!1),e},r.addConstraint=function(e,t){return e.constraints.push(t),r.setModified(e,!0,!0,!1),e},r.removeConstraint=function(e,t,n){var o=i.indexOf(e.constraints,t);if(-1!==o&&r.removeConstraintAt(e,o),n)for(var s=0;s<e.composites.length;s++)r.removeConstraint(e.composites[s],t,!0);return e},r.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),r.setModified(e,!0,!0,!1),e},r.clear=function(e,t,n){if(n)for(var o=0;o<e.composites.length;o++)r.clear(e.composites[o],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,r.setModified(e,!0,!0,!1),e},r.allBodies=function(e){for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(r.allBodies(e.composites[n]));return t},r.allConstraints=function(e){for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(r.allConstraints(e.composites[n]));return t},r.allComposites=function(e){for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(r.allComposites(e.composites[n]));return t},r.get=function(e,t,n){var o,i;switch(n){case"body":o=r.allBodies(e);break;case"constraint":o=r.allConstraints(e);break;case"composite":o=r.allComposites(e).concat(e)}return o?0===(i=o.filter((function(e){return e.id.toString()===t.toString()}))).length?null:i[0]:null},r.move=function(e,t,n){return r.remove(e,t),r.add(n,t),e},r.rebase=function(e){for(var t=r.allBodies(e).concat(r.allConstraints(e)).concat(r.allComposites(e)),n=0;n<t.length;n++)t[n].id=i.nextId();return r.setModified(e,!0,!0,!1),e},r.translate=function(e,t,n){for(var o=n?r.allBodies(e):e.bodies,i=0;i<o.length;i++)a.translate(o[i],t);return r.setModified(e,!0,!0,!1),e},r.rotate=function(e,t,n,o){for(var i=Math.cos(t),s=Math.sin(t),c=o?r.allBodies(e):e.bodies,l=0;l<c.length;l++){var u=c[l],f=u.position.x-n.x,d=u.position.y-n.y;a.setPosition(u,{x:n.x+(f*i-d*s),y:n.y+(f*s+d*i)}),a.rotate(u,t)}return r.setModified(e,!0,!0,!1),e},r.scale=function(e,t,n,o,i){for(var s=i?r.allBodies(e):e.bodies,c=0;c<s.length;c++){var l=s[c],u=l.position.x-o.x,f=l.position.y-o.y;a.setPosition(l,{x:o.x+u*t,y:o.y+f*n}),a.scale(l,t,n)}return r.setModified(e,!0,!0,!1),e},r.bounds=function(e){for(var t=r.allBodies(e),n=[],o=0;o<t.length;o+=1){var i=t[o];n.push(i.bounds.min,i.bounds.max)}return s.create(n)}},{"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"./Body":1}],3:[function(e,t,n){var r={};t.exports=r;var o=e("./Composite"),i=(e("../constraint/Constraint"),e("../core/Common"));r.create=function(e){var t=o.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return i.extend(t,n,e)}},{"../constraint/Constraint":12,"../core/Common":14,"./Composite":2}],4:[function(e,t,n){var r={};t.exports=r,r.create=function(e){return{id:r.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},r.id=function(e){return e.body.id+"_"+e.index}},{}],5:[function(e,t,n){var r={};t.exports=r;var o=e("./SAT"),i=e("./Pair"),s=e("../geometry/Bounds");r.collisions=function(e,t){for(var n=[],a=t.pairs.table,c=0;c<e.length;c++){var l=e[c][0],u=e[c][1];if((!l.isStatic&&!l.isSleeping||!u.isStatic&&!u.isSleeping)&&r.canCollide(l.collisionFilter,u.collisionFilter)&&s.overlaps(l.bounds,u.bounds))for(var f=l.parts.length>1?1:0;f<l.parts.length;f++)for(var d=l.parts[f],p=u.parts.length>1?1:0;p<u.parts.length;p++){var v=u.parts[p];if(d===l&&v===u||s.overlaps(d.bounds,v.bounds)){var y,m=a[i.id(d,v)];y=m&&m.isActive?m.collision:null;var h=o.collides(d,v,y);h.collided&&n.push(h)}}}return n},r.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!=(e.mask&t.category)&&0!=(t.mask&e.category)}},{"../geometry/Bounds":26,"./Pair":7,"./SAT":11}],6:[function(e,t,n){var r={};t.exports=r;var o=e("./Pair"),i=e("./Detector"),s=e("../core/Common");r.create=function(e){var t={controller:r,detector:i.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(t,e)},r.update=function(e,t,n,o){var i,s,a,c,l,u=n.world,f=e.buckets,d=!1;for(i=0;i<t.length;i++){var p=t[i];if((!p.isSleeping||o)&&!(p.bounds.max.x<u.bounds.min.x||p.bounds.min.x>u.bounds.max.x||p.bounds.max.y<u.bounds.min.y||p.bounds.min.y>u.bounds.max.y)){var v=r._getRegion(e,p);if(!p.region||v.id!==p.region.id||o){p.region&&!o||(p.region=v);var y=r._regionUnion(v,p.region);for(s=y.startCol;s<=y.endCol;s++)for(a=y.startRow;a<=y.endRow;a++){c=f[l=r._getBucketId(s,a)];var m=s>=v.startCol&&s<=v.endCol&&a>=v.startRow&&a<=v.endRow,h=s>=p.region.startCol&&s<=p.region.endCol&&a>=p.region.startRow&&a<=p.region.endRow;!m&&h&&h&&c&&r._bucketRemoveBody(e,c,p),(p.region===v||m&&!h||o)&&(c||(c=r._createBucket(f,l)),r._bucketAddBody(e,c,p))}p.region=v,d=!0}}}d&&(e.pairsList=r._createActivePairsList(e))},r.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},r._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),o=Math.max(e.endCol,t.endCol),i=Math.min(e.startRow,t.startRow),s=Math.max(e.endRow,t.endRow);return r._createRegion(n,o,i,s)},r._getRegion=function(e,t){var n=t.bounds,o=Math.floor(n.min.x/e.bucketWidth),i=Math.floor(n.max.x/e.bucketWidth),s=Math.floor(n.min.y/e.bucketHeight),a=Math.floor(n.max.y/e.bucketHeight);return r._createRegion(o,i,s,a)},r._createRegion=function(e,t,n,r){return{id:e+","+t+","+n+","+r,startCol:e,endCol:t,startRow:n,endRow:r}},r._getBucketId=function(e,t){return"C"+e+"R"+t},r._createBucket=function(e,t){return e[t]=[]},r._bucketAddBody=function(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(!(n.id===i.id||n.isStatic&&i.isStatic)){var s=o.id(n,i),a=e.pairs[s];a?a[2]+=1:e.pairs[s]=[n,i,1]}}t.push(n)},r._bucketRemoveBody=function(e,t,n){t.splice(s.indexOf(t,n),1);for(var r=0;r<t.length;r++){var i=t[r],a=o.id(n,i),c=e.pairs[a];c&&(c[2]-=1)}},r._createActivePairsList=function(e){var t,n,r=[];t=s.keys(e.pairs);for(var o=0;o<t.length;o++)(n=e.pairs[t[o]])[2]>0?r.push(n):delete e.pairs[t[o]];return r}},{"../core/Common":14,"./Detector":5,"./Pair":7}],7:[function(e,t,n){var r={};t.exports=r;var o=e("./Contact");r.create=function(e,t){var n=e.bodyA,o=e.bodyB,i=e.parentA,s=e.parentB,a={id:r.id(n,o),bodyA:n,bodyB:o,contacts:{},activeContacts:[],separation:0,isActive:!0,isSensor:n.isSensor||o.isSensor,timeCreated:t,timeUpdated:t,inverseMass:i.inverseMass+s.inverseMass,friction:Math.min(i.friction,s.friction),frictionStatic:Math.max(i.frictionStatic,s.frictionStatic),restitution:Math.max(i.restitution,s.restitution),slop:Math.max(i.slop,s.slop)};return r.update(a,e,t),a},r.update=function(e,t,n){var i=e.contacts,s=t.supports,a=e.activeContacts,c=t.parentA,l=t.parentB;if(e.collision=t,e.inverseMass=c.inverseMass+l.inverseMass,e.friction=Math.min(c.friction,l.friction),e.frictionStatic=Math.max(c.frictionStatic,l.frictionStatic),e.restitution=Math.max(c.restitution,l.restitution),e.slop=Math.max(c.slop,l.slop),a.length=0,t.collided){for(var u=0;u<s.length;u++){var f=s[u],d=o.id(f),p=i[d];p?a.push(p):a.push(i[d]=o.create(f))}e.separation=t.depth,r.setActive(e,!0,n)}else!0===e.isActive&&r.setActive(e,!1,n)},r.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.activeContacts.length=0)},r.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},{"./Contact":4}],8:[function(e,t,n){var r={};t.exports=r;var o=e("./Pair"),i=e("../core/Common");r._pairMaxIdleLife=1e3,r.create=function(e){return i.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},r.update=function(e,t,n){var r,s,a,c,l=e.list,u=e.table,f=e.collisionStart,d=e.collisionEnd,p=e.collisionActive,v=[];for(f.length=0,d.length=0,p.length=0,c=0;c<t.length;c++)(r=t[c]).collided&&(s=o.id(r.bodyA,r.bodyB),v.push(s),(a=u[s])?(a.isActive?p.push(a):f.push(a),o.update(a,r,n)):(a=o.create(r,n),u[s]=a,f.push(a),l.push(a)));for(c=0;c<l.length;c++)(a=l[c]).isActive&&-1===i.indexOf(v,a.id)&&(o.setActive(a,!1,n),d.push(a))},r.removeOld=function(e,t){var n,o,i,s,a=e.list,c=e.table,l=[];for(s=0;s<a.length;s++)(o=(n=a[s]).collision).bodyA.isSleeping||o.bodyB.isSleeping?n.timeUpdated=t:t-n.timeUpdated>r._pairMaxIdleLife&&l.push(s);for(s=0;s<l.length;s++)delete c[(n=a[i=l[s]-s]).id],a.splice(i,1)},r.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},{"../core/Common":14,"./Pair":7}],9:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vector"),i=e("./SAT"),s=e("../geometry/Bounds"),a=e("../factory/Bodies"),c=e("../geometry/Vertices");r.collides=function(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r];if(s.overlaps(o.bounds,e.bounds))for(var a=1===o.parts.length?0:1;a<o.parts.length;a++){var c=o.parts[a];if(s.overlaps(c.bounds,e.bounds)){var l=i.collides(c,e);if(l.collided){n.push(l);break}}}}return n},r.ray=function(e,t,n,i){i=i||1e-100;for(var s=o.angle(t,n),c=o.magnitude(o.sub(t,n)),l=.5*(n.x+t.x),u=.5*(n.y+t.y),f=a.rectangle(l,u,c,i,{angle:s}),d=r.collides(f,e),p=0;p<d.length;p+=1){var v=d[p];v.body=v.bodyB=v.bodyA}return d},r.region=function(e,t,n){for(var r=[],o=0;o<e.length;o++){var i=e[o],a=s.overlaps(i.bounds,t);(a&&!n||!a&&n)&&r.push(i)}return r},r.point=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(s.contains(o.bounds,t))for(var i=1===o.parts.length?0:1;i<o.parts.length;i++){var a=o.parts[i];if(s.contains(a.bounds,t)&&c.contains(a.vertices,t)){n.push(o);break}}}return n}},{"../factory/Bodies":23,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"./SAT":11}],10:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vertices"),i=e("../geometry/Vector"),s=e("../core/Common"),a=e("../geometry/Bounds");r._restingThresh=4,r._restingThreshTangent=6,r._positionDampen=.9,r._positionWarming=.8,r._frictionNormalMultiplier=5,r.preSolvePosition=function(e){var t,n,r;for(t=0;t<e.length;t++)(n=e[t]).isActive&&(r=n.activeContacts.length,n.collision.parentA.totalContacts+=r,n.collision.parentB.totalContacts+=r)},r.solvePosition=function(e,t){var n,o,s,a,c,l,u,f,d,p=i._temp[0],v=i._temp[1],y=i._temp[2],m=i._temp[3];for(n=0;n<e.length;n++)(o=e[n]).isActive&&!o.isSensor&&(a=(s=o.collision).parentA,c=s.parentB,l=s.normal,u=i.sub(i.add(c.positionImpulse,c.position,p),i.add(a.positionImpulse,i.sub(c.position,s.penetration,v),y),m),o.separation=i.dot(l,u));for(n=0;n<e.length;n++)(o=e[n]).isActive&&!o.isSensor&&(a=(s=o.collision).parentA,c=s.parentB,l=s.normal,d=(o.separation-o.slop)*t,(a.isStatic||c.isStatic)&&(d*=2),a.isStatic||a.isSleeping||(f=r._positionDampen/a.totalContacts,a.positionImpulse.x+=l.x*d*f,a.positionImpulse.y+=l.y*d*f),c.isStatic||c.isSleeping||(f=r._positionDampen/c.totalContacts,c.positionImpulse.x-=l.x*d*f,c.positionImpulse.y-=l.y*d*f))},r.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.totalContacts=0,0!==n.positionImpulse.x||0!==n.positionImpulse.y){for(var s=0;s<n.parts.length;s++){var c=n.parts[s];o.translate(c.vertices,n.positionImpulse),a.update(c.bounds,c.vertices,n.velocity),c.position.x+=n.positionImpulse.x,c.position.y+=n.positionImpulse.y}n.positionPrev.x+=n.positionImpulse.x,n.positionPrev.y+=n.positionImpulse.y,i.dot(n.positionImpulse,n.velocity)<0?(n.positionImpulse.x=0,n.positionImpulse.y=0):(n.positionImpulse.x*=r._positionWarming,n.positionImpulse.y*=r._positionWarming)}}},r.preSolveVelocity=function(e){var t,n,r,o,s,a,c,l,u,f,d,p,v,y,m=i._temp[0],h=i._temp[1];for(t=0;t<e.length;t++)if((r=e[t]).isActive&&!r.isSensor)for(o=r.activeContacts,a=(s=r.collision).parentA,c=s.parentB,l=s.normal,u=s.tangent,n=0;n<o.length;n++)d=(f=o[n]).vertex,p=f.normalImpulse,v=f.tangentImpulse,0===p&&0===v||(m.x=l.x*p+u.x*v,m.y=l.y*p+u.y*v,a.isStatic||a.isSleeping||(y=i.sub(d,a.position,h),a.positionPrev.x+=m.x*a.inverseMass,a.positionPrev.y+=m.y*a.inverseMass,a.anglePrev+=i.cross(y,m)*a.inverseInertia),c.isStatic||c.isSleeping||(y=i.sub(d,c.position,h),c.positionPrev.x-=m.x*c.inverseMass,c.positionPrev.y-=m.y*c.inverseMass,c.anglePrev-=i.cross(y,m)*c.inverseInertia))},r.solveVelocity=function(e,t){for(var n=t*t,o=i._temp[0],a=i._temp[1],c=i._temp[2],l=i._temp[3],u=i._temp[4],f=i._temp[5],d=0;d<e.length;d++){var p=e[d];if(p.isActive&&!p.isSensor){var v=p.collision,y=v.parentA,m=v.parentB,h=v.normal,g=v.tangent,x=p.activeContacts,b=1/x.length;y.velocity.x=y.position.x-y.positionPrev.x,y.velocity.y=y.position.y-y.positionPrev.y,m.velocity.x=m.position.x-m.positionPrev.x,m.velocity.y=m.position.y-m.positionPrev.y,y.angularVelocity=y.angle-y.anglePrev,m.angularVelocity=m.angle-m.anglePrev;for(var w=0;w<x.length;w++){var S=x[w],P=S.vertex,C=i.sub(P,y.position,a),_=i.sub(P,m.position,c),A=i.add(y.velocity,i.mult(i.perp(C),y.angularVelocity),l),M=i.add(m.velocity,i.mult(i.perp(_),m.angularVelocity),u),k=i.sub(A,M,f),B=i.dot(h,k),T=i.dot(g,k),I=Math.abs(T),O=s.sign(T),E=(1+p.restitution)*B,R=s.clamp(p.separation+B,0,1)*r._frictionNormalMultiplier,L=T,j=1/0;I>p.friction*p.frictionStatic*R*n&&(j=I,L=s.clamp(p.friction*O*n,-j,j));var V=i.cross(C,h),F=i.cross(_,h),W=b/(y.inverseMass+m.inverseMass+y.inverseInertia*V*V+m.inverseInertia*F*F);if(E*=W,L*=W,B<0&&B*B>r._restingThresh*n)S.normalImpulse=0;else{var D=S.normalImpulse;S.normalImpulse=Math.min(S.normalImpulse+E,0),E=S.normalImpulse-D}if(T*T>r._restingThreshTangent*n)S.tangentImpulse=0;else{var N=S.tangentImpulse;S.tangentImpulse=s.clamp(S.tangentImpulse+L,-j,j),L=S.tangentImpulse-N}o.x=h.x*E+g.x*L,o.y=h.y*E+g.y*L,y.isStatic||y.isSleeping||(y.positionPrev.x+=o.x*y.inverseMass,y.positionPrev.y+=o.y*y.inverseMass,y.anglePrev+=i.cross(C,o)*y.inverseInertia),m.isStatic||m.isSleeping||(m.positionPrev.x-=o.x*m.inverseMass,m.positionPrev.y-=o.y*m.inverseMass,m.anglePrev-=i.cross(_,o)*m.inverseInertia)}}}}},{"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],11:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vertices"),i=e("../geometry/Vector");r.collides=function(e,t,n){var s,a,c,l,u=!1;if(n){var f=e.parent,d=t.parent,p=f.speed*f.speed+f.angularSpeed*f.angularSpeed+d.speed*d.speed+d.angularSpeed*d.angularSpeed;u=n&&n.collided&&p<.2,l=n}else l={collided:!1,bodyA:e,bodyB:t};if(n&&u){var v=l.axisBody,y=v===e?t:e,m=[v.axes[n.axisNumber]];if(c=r._overlapAxes(v.vertices,y.vertices,m),l.reused=!0,c.overlap<=0)return l.collided=!1,l}else{if((s=r._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return l.collided=!1,l;if((a=r._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return l.collided=!1,l;s.overlap<a.overlap?(c=s,l.axisBody=e):(c=a,l.axisBody=t),l.axisNumber=c.axisNumber}l.bodyA=e.id<t.id?e:t,l.bodyB=e.id<t.id?t:e,l.collided=!0,l.depth=c.overlap,l.parentA=l.bodyA.parent,l.parentB=l.bodyB.parent,e=l.bodyA,t=l.bodyB,i.dot(c.axis,i.sub(t.position,e.position))<0?l.normal={x:c.axis.x,y:c.axis.y}:l.normal={x:-c.axis.x,y:-c.axis.y},l.tangent=i.perp(l.normal),l.penetration=l.penetration||{},l.penetration.x=l.normal.x*l.depth,l.penetration.y=l.normal.y*l.depth;var h=r._findSupports(e,t,l.normal),g=[];if(o.contains(e.vertices,h[0])&&g.push(h[0]),o.contains(e.vertices,h[1])&&g.push(h[1]),g.length<2){var x=r._findSupports(t,e,i.neg(l.normal));o.contains(t.vertices,x[0])&&g.push(x[0]),g.length<2&&o.contains(t.vertices,x[1])&&g.push(x[1])}return g.length<1&&(g=[h[0]]),l.supports=g,l},r._overlapAxes=function(e,t,n){for(var o,s,a=i._temp[0],c=i._temp[1],l={overlap:Number.MAX_VALUE},u=0;u<n.length;u++){if(s=n[u],r._projectToAxis(a,e,s),r._projectToAxis(c,t,s),(o=Math.min(a.max-c.min,c.max-a.min))<=0)return l.overlap=o,l;o<l.overlap&&(l.overlap=o,l.axis=s,l.axisNumber=u)}return l},r._projectToAxis=function(e,t,n){for(var r=i.dot(t[0],n),o=r,s=1;s<t.length;s+=1){var a=i.dot(t[s],n);a>o?o=a:a<r&&(r=a)}e.min=r,e.max=o},r._findSupports=function(e,t,n){for(var r,o,s,a,c=Number.MAX_VALUE,l=i._temp[0],u=t.vertices,f=e.position,d=0;d<u.length;d++)o=u[d],l.x=o.x-f.x,l.y=o.y-f.y,(r=-i.dot(n,l))<c&&(c=r,s=o);return o=u[s.index-1>=0?s.index-1:u.length-1],l.x=o.x-f.x,l.y=o.y-f.y,c=-i.dot(n,l),a=o,o=u[(s.index+1)%u.length],l.x=o.x-f.x,l.y=o.y-f.y,(r=-i.dot(n,l))<c&&(a=o),[s,a]}},{"../geometry/Vector":28,"../geometry/Vertices":29}],12:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vertices"),i=e("../geometry/Vector"),s=e("../core/Sleeping"),a=e("../geometry/Bounds"),c=e("../geometry/Axes"),l=e("../core/Common");r._warming=.4,r._torqueDampen=1,r._minLength=1e-6,r.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?i.add(t.bodyA.position,t.pointA):t.pointA,r=t.bodyB?i.add(t.bodyB.position,t.pointB):t.pointB,o=i.magnitude(i.sub(n,r));t.length=void 0!==t.length?t.length:o,t.id=t.id||l.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var s={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(s.type="pin",s.anchors=!1):t.stiffness<.9&&(s.type="spring"),t.render=l.extend(s,t.render),t},r.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],r=n.constraintImpulse;n.isStatic||0===r.x&&0===r.y&&0===r.angle||(n.position.x+=r.x,n.position.y+=r.y,n.angle+=r.angle)}},r.solveAll=function(e,t){for(var n=0;n<e.length;n+=1){var o=e[n],i=!o.bodyA||o.bodyA&&o.bodyA.isStatic,s=!o.bodyB||o.bodyB&&o.bodyB.isStatic;(i||s)&&r.solve(e[n],t)}for(n=0;n<e.length;n+=1)i=!(o=e[n]).bodyA||o.bodyA&&o.bodyA.isStatic,s=!o.bodyB||o.bodyB&&o.bodyB.isStatic,i||s||r.solve(e[n],t)},r.solve=function(e,t){var n=e.bodyA,o=e.bodyB,s=e.pointA,a=e.pointB;if(n||o){n&&!n.isStatic&&(i.rotate(s,n.angle-e.angleA,s),e.angleA=n.angle),o&&!o.isStatic&&(i.rotate(a,o.angle-e.angleB,a),e.angleB=o.angle);var c=s,l=a;if(n&&(c=i.add(n.position,s)),o&&(l=i.add(o.position,a)),c&&l){var u=i.sub(c,l),f=i.magnitude(u);f<r._minLength&&(f=r._minLength);var d,p,v,y,m,h=(f-e.length)/f,g=e.stiffness<1?e.stiffness*t:e.stiffness,x=i.mult(u,h*g),b=(n?n.inverseMass:0)+(o?o.inverseMass:0),w=b+((n?n.inverseInertia:0)+(o?o.inverseInertia:0));if(e.damping){var S=i.create();v=i.div(u,f),m=i.sub(o&&i.sub(o.position,o.positionPrev)||S,n&&i.sub(n.position,n.positionPrev)||S),y=i.dot(v,m)}n&&!n.isStatic&&(p=n.inverseMass/b,n.constraintImpulse.x-=x.x*p,n.constraintImpulse.y-=x.y*p,n.position.x-=x.x*p,n.position.y-=x.y*p,e.damping&&(n.positionPrev.x-=e.damping*v.x*y*p,n.positionPrev.y-=e.damping*v.y*y*p),d=i.cross(s,x)/w*r._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=d,n.angle-=d),o&&!o.isStatic&&(p=o.inverseMass/b,o.constraintImpulse.x+=x.x*p,o.constraintImpulse.y+=x.y*p,o.position.x+=x.x*p,o.position.y+=x.y*p,e.damping&&(o.positionPrev.x+=e.damping*v.x*y*p,o.positionPrev.y+=e.damping*v.y*y*p),d=i.cross(a,x)/w*r._torqueDampen*o.inverseInertia*(1-e.angularStiffness),o.constraintImpulse.angle+=d,o.angle+=d)}}},r.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],l=n.constraintImpulse;if(!(n.isStatic||0===l.x&&0===l.y&&0===l.angle)){s.set(n,!1);for(var u=0;u<n.parts.length;u++){var f=n.parts[u];o.translate(f.vertices,l),u>0&&(f.position.x+=l.x,f.position.y+=l.y),0!==l.angle&&(o.rotate(f.vertices,l.angle,n.position),c.rotate(f.axes,l.angle),u>0&&i.rotateAbout(f.position,l.angle,n.position,f.position)),a.update(f.bounds,f.vertices,n.velocity)}l.angle*=r._warming,l.x*=r._warming,l.y*=r._warming}}}},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],13:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vertices"),i=e("../core/Sleeping"),s=e("../core/Mouse"),a=e("../core/Events"),c=e("../collision/Detector"),l=e("./Constraint"),u=e("../body/Composite"),f=e("../core/Common"),d=e("../geometry/Bounds");r.create=function(e,t){var n=(e?e.mouse:null)||(t?t.mouse:null);n||(e&&e.render&&e.render.canvas?n=s.create(e.render.canvas):t&&t.element?n=s.create(t.element):(n=s.create(),f.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var o={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:l.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},i=f.extend(o,t);return a.on(e,"beforeUpdate",(function(){var t=u.allBodies(e.world);r.update(i,t),r._triggerEvents(i)})),i},r.update=function(e,t){var n=e.mouse,r=e.constraint,s=e.body;if(0===n.button){if(r.bodyB)i.set(r.bodyB,!1),r.pointA=n.position;else for(var l=0;l<t.length;l++)if(s=t[l],d.contains(s.bounds,n.position)&&c.canCollide(s.collisionFilter,e.collisionFilter))for(var u=s.parts.length>1?1:0;u<s.parts.length;u++){var f=s.parts[u];if(o.contains(f.vertices,n.position)){r.pointA=n.position,r.bodyB=e.body=s,r.pointB={x:n.position.x-s.position.x,y:n.position.y-s.position.y},r.angleB=s.angle,i.set(s,!1),a.trigger(e,"startdrag",{mouse:n,body:s});break}}}else r.bodyB=e.body=null,r.pointB=null,s&&a.trigger(e,"enddrag",{mouse:n,body:s})},r._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&a.trigger(e,"mousemove",{mouse:t}),n.mousedown&&a.trigger(e,"mousedown",{mouse:t}),n.mouseup&&a.trigger(e,"mouseup",{mouse:t}),s.clearSourceEvents(t)}},{"../body/Composite":2,"../collision/Detector":5,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../core/Sleeping":22,"../geometry/Bounds":26,"../geometry/Vertices":29,"./Constraint":12}],14:[function(e,n,r){(function(t){var r={};n.exports=r,function(){r._nextId=0,r._seed=0,r._nowStartTime=+new Date,r.extend=function(e,t){var n,o;"boolean"==typeof t?(n=2,o=t):(n=1,o=!0);for(var i=n;i<arguments.length;i++){var s=arguments[i];if(s)for(var a in s)o&&s[a]&&s[a].constructor===Object?e[a]&&e[a].constructor!==Object?e[a]=s[a]:(e[a]=e[a]||{},r.extend(e[a],o,s[a])):e[a]=s[a]}return e},r.clone=function(e,t){return r.extend({},t,e)},r.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},r.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}for(var o in e)t.push(e[o]);return t},r.get=function(e,t,n,r){t=t.split(".").slice(n,r);for(var o=0;o<t.length;o+=1)e=e[t[o]];return e},r.set=function(e,t,n,o,i){var s=t.split(".").slice(o,i);return r.get(e,t,0,-1)[s[s.length-1]]=n,n},r.shuffle=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(r.random()*(t+1)),o=e[t];e[t]=e[n],e[n]=o}return e},r.choose=function(e){return e[Math.floor(r.random()*e.length)]},r.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},r.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},r.isFunction=function(e){return"function"==typeof e},r.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},r.isString=function(e){return"[object String]"===toString.call(e)},r.clamp=function(e,t,n){return e<t?t:e>n?n:e},r.sign=function(e){return e<0?-1:1},r.now=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-r._nowStartTime},r.random=function(e,t){return t=void 0!==t?t:1,(e=void 0!==e?e:0)+n()*(t-e)};var n=function(){return r._seed=(9301*r._seed+49297)%233280,r._seed/233280};r.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},r.logLevel=1,r.log=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.info=function(){console&&r.logLevel>0&&r.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.warn=function(){console&&r.logLevel>0&&r.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},r.nextId=function(){return r._nextId++},r.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},r.map=function(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n},r.topologicalSort=function(e){var t=[],n=[],o=[];for(var i in e)n[i]||o[i]||r._topologicalSort(i,n,o,e,t);return t},r._topologicalSort=function(e,t,n,o,i){var s=o[e]||[];n[e]=!0;for(var a=0;a<s.length;a+=1){var c=s[a];n[c]||t[c]||r._topologicalSort(c,t,n,o,i)}n[e]=!1,t[e]=!0,i.push(e)},r.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var n=arguments[t];n._chained?e.push.apply(e,n._chained):e.push(n)}var r=function(){for(var t,n=new Array(arguments.length),r=0,o=arguments.length;r<o;r++)n[r]=arguments[r];for(r=0;r<e.length;r+=1){var i=e[r].apply(t,n);void 0!==i&&(t=i)}return t};return r._chained=e,r},r.chainPathBefore=function(e,t,n){return r.set(e,t,r.chain(n,r.get(e,t)))},r.chainPathAfter=function(e,t,n){return r.set(e,t,r.chain(r.get(e,t),n))},r._requireGlobal=function(n,r){return("undefined"!=typeof window?window[n]:void 0!==t?t[n]:null)||e(r)}}()}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){var r={};t.exports=r;var o=e("../body/World"),i=e("./Sleeping"),s=e("../collision/Resolver"),a=e("../render/Render"),c=e("../collision/Pairs"),l=(e("./Metrics"),e("../collision/Grid")),u=e("./Events"),f=e("../body/Composite"),d=e("../constraint/Constraint"),p=e("./Common"),v=e("../body/Body");r.create=function(e,t){t=(t=p.isElement(e)?t:e)||{},((e=p.isElement(e)?e:null)||t.render)&&p.warn("Engine.create: engine.render is deprecated (see docs)");var n={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:l}},r=p.extend(n,t);if(e||r.render){var i={element:e,controller:a};r.render=p.extend(i,r.render)}return r.render&&r.render.controller&&(r.render=r.render.controller.create(r.render)),r.render&&(r.render.engine=r),r.world=t.world||o.create(r.world),r.pairs=c.create(),r.broadphase=r.broadphase.controller.create(r.broadphase),r.metrics=r.metrics||{extended:!1},r},r.update=function(e,t,n){t=t||1e3/60,n=n||1;var o,a=e.world,l=e.timing,p=e.broadphase,v=[];l.timestamp+=t*l.timeScale;var y={timestamp:l.timestamp};u.trigger(e,"beforeUpdate",y);var m=f.allBodies(a),h=f.allConstraints(a);for(e.enableSleeping&&i.update(m,l.timeScale),r._bodiesApplyGravity(m,a.gravity),r._bodiesUpdate(m,t,l.timeScale,n,a.bounds),d.preSolveAll(m),o=0;o<e.constraintIterations;o++)d.solveAll(h,l.timeScale);d.postSolveAll(m),p.controller?(a.isModified&&p.controller.clear(p),p.controller.update(p,m,e,a.isModified),v=p.pairsList):v=m,a.isModified&&f.setModified(a,!1,!1,!0);var g=p.detector(v,e),x=e.pairs,b=l.timestamp;for(c.update(x,g,b),c.removeOld(x,b),e.enableSleeping&&i.afterCollisions(x.list,l.timeScale),x.collisionStart.length>0&&u.trigger(e,"collisionStart",{pairs:x.collisionStart}),s.preSolvePosition(x.list),o=0;o<e.positionIterations;o++)s.solvePosition(x.list,l.timeScale);for(s.postSolvePosition(m),d.preSolveAll(m),o=0;o<e.constraintIterations;o++)d.solveAll(h,l.timeScale);for(d.postSolveAll(m),s.preSolveVelocity(x.list),o=0;o<e.velocityIterations;o++)s.solveVelocity(x.list,l.timeScale);return x.collisionActive.length>0&&u.trigger(e,"collisionActive",{pairs:x.collisionActive}),x.collisionEnd.length>0&&u.trigger(e,"collisionEnd",{pairs:x.collisionEnd}),r._bodiesClearForces(m),u.trigger(e,"afterUpdate",y),e},r.merge=function(e,t){if(p.extend(e,t),t.world){e.world=t.world,r.clear(e);for(var n=f.allBodies(e.world),o=0;o<n.length;o++){var s=n[o];i.set(s,!1),s.id=p.nextId()}}},r.clear=function(e){var t=e.world;c.clear(e.pairs);var n=e.broadphase;if(n.controller){var r=f.allBodies(t);n.controller.clear(n),n.controller.update(n,r,e,!0)}},r._bodiesClearForces=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.force.x=0,n.force.y=0,n.torque=0}},r._bodiesApplyGravity=function(e,t){var n=void 0!==t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==n)for(var r=0;r<e.length;r++){var o=e[r];o.isStatic||o.isSleeping||(o.force.y+=o.mass*t.y*n,o.force.x+=o.mass*t.x*n)}},r._bodiesUpdate=function(e,t,n,r,o){for(var i=0;i<e.length;i++){var s=e[i];s.isStatic||s.isSleeping||v.update(s,t,n,r)}}},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Grid":6,"../collision/Pairs":8,"../collision/Resolver":10,"../constraint/Constraint":12,"../render/Render":31,"./Common":14,"./Events":16,"./Metrics":18,"./Sleeping":22}],16:[function(e,t,n){var r={};t.exports=r;var o=e("./Common");r.on=function(e,t,n){for(var r,o=t.split(" "),i=0;i<o.length;i++)r=o[i],e.events=e.events||{},e.events[r]=e.events[r]||[],e.events[r].push(n);return n},r.off=function(e,t,n){if(t){"function"==typeof t&&(n=t,t=o.keys(e.events).join(" "));for(var r=t.split(" "),i=0;i<r.length;i++){var s=e.events[r[i]],a=[];if(n&&s)for(var c=0;c<s.length;c++)s[c]!==n&&a.push(s[c]);e.events[r[i]]=a}}else e.events={}},r.trigger=function(e,t,n){var r,i,s,a;if(e.events){n||(n={}),r=t.split(" ");for(var c=0;c<r.length;c++)if(i=r[c],s=e.events[i]){(a=o.clone(n,!1)).name=i,a.source=e;for(var l=0;l<s.length;l++)s[l].apply(e,[a])}}}},{"./Common":14}],17:[function(e,t,n){var r={};t.exports=r;var o=e("./Plugin"),i=e("./Common");r.name="matter-js",r.version="0.14.2",r.uses=[],r.used=[],r.use=function(){o.use(r,Array.prototype.slice.call(arguments))},r.before=function(e,t){return e=e.replace(/^Matter./,""),i.chainPathBefore(r,e,t)},r.after=function(e,t){return e=e.replace(/^Matter./,""),i.chainPathAfter(r,e,t)}},{"./Common":14,"./Plugin":20}],18:[function(e,t,n){},{"../body/Composite":2,"./Common":14}],19:[function(e,t,n){var r={};t.exports=r;var o=e("../core/Common");r.create=function(e){var t={};return e||o.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=t.element.getAttribute("data-pixel-ratio")||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var n=r._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},r.setElement(t,t.element),t},r.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},r.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},r.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},r._getRelativeMousePosition=function(e,t,n){var r,o,i=t.getBoundingClientRect(),s=document.documentElement||document.body.parentNode||document.body,a=void 0!==window.pageXOffset?window.pageXOffset:s.scrollLeft,c=void 0!==window.pageYOffset?window.pageYOffset:s.scrollTop,l=e.changedTouches;return l?(r=l[0].pageX-i.left-a,o=l[0].pageY-i.top-c):(r=e.pageX-i.left-a,o=e.pageY-i.top-c),{x:r/(t.clientWidth/(t.width||t.clientWidth)*n),y:o/(t.clientHeight/(t.height||t.clientHeight)*n)}}},{"../core/Common":14}],20:[function(e,t,n){var r={};t.exports=r;var o=e("./Common");r._registry={},r.register=function(e){if(r.isPlugin(e)||o.warn("Plugin.register:",r.toString(e),"does not implement all required fields."),e.name in r._registry){var t=r._registry[e.name],n=r.versionParse(e.version).number,i=r.versionParse(t.version).number;n>i?(o.warn("Plugin.register:",r.toString(t),"was upgraded to",r.toString(e)),r._registry[e.name]=e):n<i?o.warn("Plugin.register:",r.toString(t),"can not be downgraded to",r.toString(e)):e!==t&&o.warn("Plugin.register:",r.toString(e),"is already registered to different plugin object")}else r._registry[e.name]=e;return e},r.resolve=function(e){return r._registry[r.dependencyParse(e).name]},r.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},r.isPlugin=function(e){return e&&e.name&&e.version&&e.install},r.isUsed=function(e,t){return e.used.indexOf(t)>-1},r.isFor=function(e,t){var n=e.for&&r.dependencyParse(e.for);return!e.for||t.name===n.name&&r.versionSatisfies(t.version,n.range)},r.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=r.dependencies(e),i=o.topologicalSort(n),s=[],a=0;a<i.length;a+=1)if(i[a]!==e.name){var c=r.resolve(i[a]);c?r.isUsed(e,c.name)||(r.isFor(c,e)||(o.warn("Plugin.use:",r.toString(c),"is for",c.for,"but installed on",r.toString(e)+"."),c._warned=!0),c.install?c.install(e):(o.warn("Plugin.use:",r.toString(c),"does not specify an install function."),c._warned=!0),c._warned?(s.push("ð¶ "+r.toString(c)),delete c._warned):s.push("â "+r.toString(c)),e.used.push(c.name)):s.push("â "+i[a])}s.length>0&&o.info(s.join("  "))}else o.warn("Plugin.use:",r.toString(e),"does not specify any dependencies to install.")},r.dependencies=function(e,t){var n=r.dependencyParse(e),i=n.name;if(!(i in(t=t||{}))){e=r.resolve(e)||e,t[i]=o.map(e.uses||[],(function(t){r.isPlugin(t)&&r.register(t);var i=r.dependencyParse(t),s=r.resolve(t);return s&&!r.versionSatisfies(s.version,i.range)?(o.warn("Plugin.dependencies:",r.toString(s),"does not satisfy",r.toString(i),"used by",r.toString(n)+"."),s._warned=!0,e._warned=!0):s||(o.warn("Plugin.dependencies:",r.toString(t),"used by",r.toString(n),"could not be resolved."),e._warned=!0),i.name}));for(var s=0;s<t[i].length;s+=1)r.dependencies(t[i][s],t);return t}},r.dependencyParse=function(e){return o.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||o.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},r.versionParse=function(e){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(e)||o.warn("Plugin.versionParse:",e,"is not a valid version or range.");var t=e.split("-");e=t[0];var n=isNaN(Number(e[0])),r=n?e.substr(1):e,i=o.map(r.split("."),(function(e){return Number(e)}));return{isRange:n,version:r,range:e,operator:n?e[0]:"",parts:i,prerelease:t[1],number:1e8*i[0]+1e4*i[1]+i[2]}},r.versionSatisfies=function(e,t){t=t||"*";var n=r.versionParse(t),o=n.parts,i=r.versionParse(e),s=i.parts;if(n.isRange){if("*"===n.operator||"*"===e)return!0;if("~"===n.operator)return s[0]===o[0]&&s[1]===o[1]&&s[2]>=o[2];if("^"===n.operator)return o[0]>0?s[0]===o[0]&&i.number>=n.number:o[1]>0?s[1]===o[1]&&s[2]>=o[2]:s[2]===o[2]}return e===t||"*"===e}},{"./Common":14}],21:[function(e,t,n){var r={};t.exports=r;var o,i,s,a=e("./Events"),c=e("./Engine"),l=e("./Common");"undefined"!=typeof window&&(o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o||(o=function(e){s=setTimeout((function(){e(l.now())}),1e3/60)},i=function(){clearTimeout(s)}),r.create=function(e){var t=l.extend({fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},e);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(.5*t.fps),t.fps=1e3/t.delta,t},r.run=function(e,t){return void 0!==e.positionIterations&&(t=e,e=r.create()),function n(i){e.frameRequestId=o(n),i&&e.enabled&&r.tick(e,t,i)}(),e},r.tick=function(e,t,n){var r,o=t.timing,i=1,s={timestamp:o.timestamp};a.trigger(e,"beforeTick",s),a.trigger(t,"beforeTick",s),e.isFixed?r=e.delta:(r=n-e.timePrev||e.delta,e.timePrev=n,e.deltaHistory.push(r),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),i=(r=(r=(r=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:r)>e.deltaMax?e.deltaMax:r)/e.delta,e.delta=r),0!==e.timeScalePrev&&(i*=o.timeScale/e.timeScalePrev),0===o.timeScale&&(i=0),e.timeScalePrev=o.timeScale,e.correction=i,e.frameCounter+=1,n-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((n-e.counterTimestamp)/1e3),e.counterTimestamp=n,e.frameCounter=0),a.trigger(e,"tick",s),a.trigger(t,"tick",s),t.world.isModified&&t.render&&t.render.controller&&t.render.controller.clear&&t.render.controller.clear(t.render),a.trigger(e,"beforeUpdate",s),c.update(t,r,i),a.trigger(e,"afterUpdate",s),t.render&&t.render.controller&&(a.trigger(e,"beforeRender",s),a.trigger(t,"beforeRender",s),t.render.controller.world(t.render),a.trigger(e,"afterRender",s),a.trigger(t,"afterRender",s)),a.trigger(e,"afterTick",s),a.trigger(t,"afterTick",s)},r.stop=function(e){i(e.frameRequestId)},r.start=function(e,t){r.run(e,t)}},{"./Common":14,"./Engine":15,"./Events":16}],22:[function(e,t,n){var r={};t.exports=r;var o=e("./Events");r._motionWakeThreshold=.18,r._motionSleepThreshold=.08,r._minBias=.9,r.update=function(e,t){for(var n=t*t*t,o=0;o<e.length;o++){var i=e[o],s=i.speed*i.speed+i.angularSpeed*i.angularSpeed;if(0===i.force.x&&0===i.force.y){var a=Math.min(i.motion,s),c=Math.max(i.motion,s);i.motion=r._minBias*a+(1-r._minBias)*c,i.sleepThreshold>0&&i.motion<r._motionSleepThreshold*n?(i.sleepCounter+=1,i.sleepCounter>=i.sleepThreshold&&r.set(i,!0)):i.sleepCounter>0&&(i.sleepCounter-=1)}else r.set(i,!1)}},r.afterCollisions=function(e,t){for(var n=t*t*t,o=0;o<e.length;o++){var i=e[o];if(i.isActive){var s=i.collision,a=s.bodyA.parent,c=s.bodyB.parent;if(!(a.isSleeping&&c.isSleeping||a.isStatic||c.isStatic)&&(a.isSleeping||c.isSleeping)){var l=a.isSleeping&&!a.isStatic?a:c,u=l===a?c:a;!l.isStatic&&u.motion>r._motionWakeThreshold*n&&r.set(l,!1)}}}},r.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||o.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&o.trigger(e,"sleepEnd"))}},{"./Events":16}],23:[function(e,t,n){var r={};t.exports=r;var o,i=e("../geometry/Vertices"),s=e("../core/Common"),a=e("../body/Body"),c=e("../geometry/Bounds"),l=e("../geometry/Vector");r.rectangle=function(e,t,n,r,o){o=o||{};var c={label:"Rectangle Body",position:{x:e,y:t},vertices:i.fromPath("L 0 0 L "+n+" 0 L "+n+" "+r+" L 0 "+r)};if(o.chamfer){var l=o.chamfer;c.vertices=i.chamfer(c.vertices,l.radius,l.quality,l.qualityMin,l.qualityMax),delete o.chamfer}return a.create(s.extend({},c,o))},r.trapezoid=function(e,t,n,r,o,c){c=c||{};var l,u=n*(o*=.5),f=u+(1-2*o)*n,d=f+u;l=o<.5?"L 0 0 L "+u+" "+-r+" L "+f+" "+-r+" L "+d+" 0":"L 0 0 L "+f+" "+-r+" L "+d+" 0";var p={label:"Trapezoid Body",position:{x:e,y:t},vertices:i.fromPath(l)};if(c.chamfer){var v=c.chamfer;p.vertices=i.chamfer(p.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete c.chamfer}return a.create(s.extend({},p,c))},r.circle=function(e,t,n,o,i){o=o||{};var a={label:"Circle Body",circleRadius:n};i=i||25;var c=Math.ceil(Math.max(10,Math.min(i,n)));return c%2==1&&(c+=1),r.polygon(e,t,c,n,s.extend({},a,o))},r.polygon=function(e,t,n,o,c){if(c=c||{},n<3)return r.circle(e,t,o,c);for(var l=2*Math.PI/n,u="",f=.5*l,d=0;d<n;d+=1){var p=f+d*l,v=Math.cos(p)*o,y=Math.sin(p)*o;u+="L "+v.toFixed(3)+" "+y.toFixed(3)+" "}var m={label:"Polygon Body",position:{x:e,y:t},vertices:i.fromPath(u)};if(c.chamfer){var h=c.chamfer;m.vertices=i.chamfer(m.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete c.chamfer}return a.create(s.extend({},m,c))},r.fromVertices=function(e,t,n,r,u,f,d){var p,v,y,m,h,g,x,b,w;for(o||(o=s._requireGlobal("decomp","poly-decomp")),r=r||{},v=[],u=void 0!==u&&u,f=void 0!==f?f:.01,d=void 0!==d?d:10,o||s.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),s.isArray(n[0])||(n=[n]),b=0;b<n.length;b+=1)if(m=n[b],(y=i.isConvex(m))||!o)m=y?i.clockwiseSort(m):i.hull(m),v.push({position:{x:e,y:t},vertices:m});else{var S=m.map((function(e){return[e.x,e.y]}));o.makeCCW(S),!1!==f&&o.removeCollinearPoints(S,f);var P=o.quickDecomp(S);for(h=0;h<P.length;h++){var C=P[h].map((function(e){return{x:e[0],y:e[1]}}));d>0&&i.area(C)<d||v.push({position:i.centre(C),vertices:C})}}for(h=0;h<v.length;h++)v[h]=a.create(s.extend(v[h],r));if(u)for(h=0;h<v.length;h++){var _=v[h];for(g=h+1;g<v.length;g++){var A=v[g];if(c.overlaps(_.bounds,A.bounds)){var M=_.vertices,k=A.vertices;for(x=0;x<_.vertices.length;x++)for(w=0;w<A.vertices.length;w++){var B=l.magnitudeSquared(l.sub(M[(x+1)%M.length],k[w])),T=l.magnitudeSquared(l.sub(M[x],k[(w+1)%k.length]));B<5&&T<5&&(M[x].isInternal=!0,k[w].isInternal=!0)}}}}return v.length>1?(p=a.create(s.extend({parts:v.slice(0)},r)),a.setPosition(p,{x:e,y:t}),p):v[0]}},{"../body/Body":1,"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],24:[function(e,t,n){var r={};t.exports=r;var o=e("../body/Composite"),i=e("../constraint/Constraint"),s=e("../core/Common"),a=e("../body/Body"),c=e("./Bodies");r.stack=function(e,t,n,r,i,s,c){for(var l,u=o.create({label:"Stack"}),f=e,d=t,p=0,v=0;v<r;v++){for(var y=0,m=0;m<n;m++){var h=c(f,d,m,v,l,p);if(h){var g=h.bounds.max.y-h.bounds.min.y,x=h.bounds.max.x-h.bounds.min.x;g>y&&(y=g),a.translate(h,{x:.5*x,y:.5*g}),f=h.bounds.max.x+i,o.addBody(u,h),l=h,p+=1}else f+=i}d+=y+s,f=e}return u},r.chain=function(e,t,n,r,a,c){for(var l=e.bodies,u=1;u<l.length;u++){var f=l[u-1],d=l[u],p=f.bounds.max.y-f.bounds.min.y,v=f.bounds.max.x-f.bounds.min.x,y=d.bounds.max.y-d.bounds.min.y,m={bodyA:f,pointA:{x:v*t,y:p*n},bodyB:d,pointB:{x:(d.bounds.max.x-d.bounds.min.x)*r,y:y*a}},h=s.extend(m,c);o.addConstraint(e,i.create(h))}return e.label+=" Chain",e},r.mesh=function(e,t,n,r,a){var c,l,u,f,d,p=e.bodies;for(c=0;c<n;c++){for(l=1;l<t;l++)u=p[l-1+c*t],f=p[l+c*t],o.addConstraint(e,i.create(s.extend({bodyA:u,bodyB:f},a)));if(c>0)for(l=0;l<t;l++)u=p[l+(c-1)*t],f=p[l+c*t],o.addConstraint(e,i.create(s.extend({bodyA:u,bodyB:f},a))),r&&l>0&&(d=p[l-1+(c-1)*t],o.addConstraint(e,i.create(s.extend({bodyA:d,bodyB:f},a)))),r&&l<t-1&&(d=p[l+1+(c-1)*t],o.addConstraint(e,i.create(s.extend({bodyA:d,bodyB:f},a))))}return e.label+=" Mesh",e},r.pyramid=function(e,t,n,o,i,s,c){return r.stack(e,t,n,o,i,s,(function(t,r,s,l,u,f){var d=Math.min(o,Math.ceil(n/2)),p=u?u.bounds.max.x-u.bounds.min.x:0;if(!(l>d||s<(l=d-l)||s>n-1-l))return 1===f&&a.translate(u,{x:(s+(n%2==1?1:-1))*p,y:0}),c(e+(u?s*p:0)+s*i,r,s,l,u,f)}))},r.newtonsCradle=function(e,t,n,r,s){for(var a=o.create({label:"Newtons Cradle"}),l=0;l<n;l++){var u=c.circle(e+l*(1.9*r),t+s,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),f=i.create({pointA:{x:e+l*(1.9*r),y:t},bodyB:u});o.addBody(a,u),o.addConstraint(a,f)}return a},r.car=function(e,t,n,r,s){var l=a.nextGroup(!0),u=.5*-n+20,f=.5*n-20,d=o.create({label:"Car"}),p=c.rectangle(e,t,n,r,{collisionFilter:{group:l},chamfer:{radius:.5*r},density:2e-4}),v=c.circle(e+u,t+0,s,{collisionFilter:{group:l},friction:.8}),y=c.circle(e+f,t+0,s,{collisionFilter:{group:l},friction:.8}),m=i.create({bodyB:p,pointB:{x:u,y:0},bodyA:v,stiffness:1,length:0}),h=i.create({bodyB:p,pointB:{x:f,y:0},bodyA:y,stiffness:1,length:0});return o.addBody(d,p),o.addBody(d,v),o.addBody(d,y),o.addConstraint(d,m),o.addConstraint(d,h),d},r.softBody=function(e,t,n,o,i,a,l,u,f,d){f=s.extend({inertia:1/0},f),d=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var p=r.stack(e,t,n,o,i,a,(function(e,t){return c.circle(e,t,u,f)}));return r.mesh(p,n,o,l,d),p.label="Soft Body",p}},{"../body/Body":1,"../body/Composite":2,"../constraint/Constraint":12,"../core/Common":14,"./Bodies":23}],25:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vector"),i=e("../core/Common");r.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var r=(n+1)%e.length,s=o.normalise({x:e[r].y-e[n].y,y:e[n].x-e[r].x}),a=0===s.y?1/0:s.x/s.y;t[a=a.toFixed(3).toString()]=s}return i.values(t)},r.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),r=Math.sin(t),o=0;o<e.length;o++){var i,s=e[o];i=s.x*n-s.y*r,s.y=s.x*r+s.y*n,s.x=i}}},{"../core/Common":14,"../geometry/Vector":28}],26:[function(e,t,n){var r={};t.exports=r,r.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&r.update(t,e),t},r.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var r=0;r<t.length;r++){var o=t[r];o.x>e.max.x&&(e.max.x=o.x),o.x<e.min.x&&(e.min.x=o.x),o.y>e.max.y&&(e.max.y=o.y),o.y<e.min.y&&(e.min.y=o.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},r.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},r.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},r.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},r.shift=function(e,t){var n=e.max.x-e.min.x,r=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+r}},{}],27:[function(e,t,n){var r={};t.exports=r,e("../geometry/Bounds");var o=e("../core/Common");r.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||o.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,i,s,a,c,l,u,f,d,p,v,y=[],m=0,h=0,g=0;t=t||15;var x=function(e,t,n){var r=n%2==1&&n>1;if(!d||e!=d.x||t!=d.y){d&&r?(p=d.x,v=d.y):(p=0,v=0);var o={x:p+e,y:v+t};!r&&d||(d=o),y.push(o),h=p+e,g=v+t}},b=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":h=e.x,g=e.y;break;case"H":h=e.x;break;case"V":g=e.y}x(h,g,e.pathSegType)}};for(r._svgPathToAbsolute(e),s=e.getTotalLength(),l=[],n=0;n<e.pathSegList.numberOfItems;n+=1)l.push(e.pathSegList.getItem(n));for(u=l.concat();m<s;){if((c=l[e.getPathSegAtLength(m)])!=f){for(;u.length&&u[0]!=c;)b(u.shift());f=c}switch(c.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=e.getPointAtLength(m),x(a.x,a.y,0)}m+=t}for(n=0,i=u.length;n<i;++n)b(u[n]);return y},r._svgPathToAbsolute=function(e){for(var t,n,r,o,i,s,a=e.pathSegList,c=0,l=0,u=a.numberOfItems,f=0;f<u;++f){var d=a.getItem(f),p=d.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in d&&(c=d.x),"y"in d&&(l=d.y);else switch("x1"in d&&(r=c+d.x1),"x2"in d&&(i=c+d.x2),"y1"in d&&(o=l+d.y1),"y2"in d&&(s=l+d.y2),"x"in d&&(c+=d.x),"y"in d&&(l+=d.y),p){case"m":a.replaceItem(e.createSVGPathSegMovetoAbs(c,l),f);break;case"l":a.replaceItem(e.createSVGPathSegLinetoAbs(c,l),f);break;case"h":a.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(c),f);break;case"v":a.replaceItem(e.createSVGPathSegLinetoVerticalAbs(l),f);break;case"c":a.replaceItem(e.createSVGPathSegCurvetoCubicAbs(c,l,r,o,i,s),f);break;case"s":a.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(c,l,i,s),f);break;case"q":a.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(c,l,r,o),f);break;case"t":a.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(c,l),f);break;case"a":a.replaceItem(e.createSVGPathSegArcAbs(c,l,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),f);break;case"z":case"Z":c=t,l=n}"M"!=p&&"m"!=p||(t=c,n=l)}}},{"../core/Common":14,"../geometry/Bounds":26}],28:[function(e,t,n){var r={};t.exports=r,r.create=function(e,t){return{x:e||0,y:t||0}},r.clone=function(e){return{x:e.x,y:e.y}},r.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},r.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},r.rotate=function(e,t,n){var r=Math.cos(t),o=Math.sin(t);n||(n={});var i=e.x*r-e.y*o;return n.y=e.x*o+e.y*r,n.x=i,n},r.rotateAbout=function(e,t,n,r){var o=Math.cos(t),i=Math.sin(t);r||(r={});var s=n.x+((e.x-n.x)*o-(e.y-n.y)*i);return r.y=n.y+((e.x-n.x)*i+(e.y-n.y)*o),r.x=s,r},r.normalise=function(e){var t=r.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},r.dot=function(e,t){return e.x*t.x+e.y*t.y},r.cross=function(e,t){return e.x*t.y-e.y*t.x},r.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},r.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},r.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},r.mult=function(e,t){return{x:e.x*t,y:e.y*t}},r.div=function(e,t){return{x:e.x/t,y:e.y/t}},r.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},r.neg=function(e){return{x:-e.x,y:-e.y}},r.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},r._temp=[r.create(),r.create(),r.create(),r.create(),r.create(),r.create()]},{}],29:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Vector"),i=e("../core/Common");r.create=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r],i={x:o.x,y:o.y,index:r,body:t,isInternal:!1};n.push(i)}return n},r.fromPath=function(e,t){var n=[];return e.replace(/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,(function(e,t,r){n.push({x:parseFloat(t),y:parseFloat(r)})})),r.create(n,t)},r.centre=function(e){for(var t,n,i,s=r.area(e,!0),a={x:0,y:0},c=0;c<e.length;c++)i=(c+1)%e.length,t=o.cross(e[c],e[i]),n=o.mult(o.add(e[c],e[i]),t),a=o.add(a,n);return o.div(a,6*s)},r.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return o.div(t,e.length)},r.area=function(e,t){for(var n=0,r=e.length-1,o=0;o<e.length;o++)n+=(e[r].x-e[o].x)*(e[r].y+e[o].y),r=o;return t?n/2:Math.abs(n)/2},r.inertia=function(e,t){for(var n,r,i=0,s=0,a=e,c=0;c<a.length;c++)r=(c+1)%a.length,i+=(n=Math.abs(o.cross(a[r],a[c])))*(o.dot(a[r],a[r])+o.dot(a[r],a[c])+o.dot(a[c],a[c])),s+=n;return t/6*(i/s)},r.translate=function(e,t,n){var r;if(n)for(r=0;r<e.length;r++)e[r].x+=t.x*n,e[r].y+=t.y*n;else for(r=0;r<e.length;r++)e[r].x+=t.x,e[r].y+=t.y;return e},r.rotate=function(e,t,n){if(0!==t){for(var r=Math.cos(t),o=Math.sin(t),i=0;i<e.length;i++){var s=e[i],a=s.x-n.x,c=s.y-n.y;s.x=n.x+(a*r-c*o),s.y=n.y+(a*o+c*r)}return e}},r.contains=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=e[(n+1)%e.length];if((t.x-r.x)*(o.y-r.y)+(t.y-r.y)*(r.x-o.x)>0)return!1}return!0},r.scale=function(e,t,n,i){if(1===t&&1===n)return e;var s,a;i=i||r.centre(e);for(var c=0;c<e.length;c++)s=e[c],a=o.sub(s,i),e[c].x=i.x+a.x*t,e[c].y=i.y+a.y*n;return e},r.chamfer=function(e,t,n,r,s){t="number"==typeof t?[t]:t||[8],n=void 0!==n?n:-1,r=r||2,s=s||14;for(var a=[],c=0;c<e.length;c++){var l=e[c-1>=0?c-1:e.length-1],u=e[c],f=e[(c+1)%e.length],d=t[c<t.length?c:t.length-1];if(0!==d){var p=o.normalise({x:u.y-l.y,y:l.x-u.x}),v=o.normalise({x:f.y-u.y,y:u.x-f.x}),y=Math.sqrt(2*Math.pow(d,2)),m=o.mult(i.clone(p),d),h=o.normalise(o.mult(o.add(p,v),.5)),g=o.sub(u,o.mult(h,y)),x=n;-1===n&&(x=1.75*Math.pow(d,.32)),(x=i.clamp(x,r,s))%2==1&&(x+=1);for(var b=Math.acos(o.dot(p,v))/x,w=0;w<x;w++)a.push(o.add(o.rotate(m,b*w),g))}else a.push(u)}return a},r.clockwiseSort=function(e){var t=r.mean(e);return e.sort((function(e,n){return o.angle(t,e)-o.angle(t,n)})),e},r.isConvex=function(e){var t,n,r,o,i=0,s=e.length;if(s<3)return null;for(t=0;t<s;t++)if(r=(t+2)%s,o=(e[n=(t+1)%s].x-e[t].x)*(e[r].y-e[n].y),(o-=(e[n].y-e[t].y)*(e[r].x-e[n].x))<0?i|=1:o>0&&(i|=2),3===i)return!1;return 0!==i||null},r.hull=function(e){var t,n,r=[],i=[];for((e=e.slice(0)).sort((function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y})),n=0;n<e.length;n+=1){for(t=e[n];i.length>=2&&o.cross3(i[i.length-2],i[i.length-1],t)<=0;)i.pop();i.push(t)}for(n=e.length-1;n>=0;n-=1){for(t=e[n];r.length>=2&&o.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}return r.pop(),i.pop(),r.concat(i)}},{"../core/Common":14,"../geometry/Vector":28}],30:[function(e,t,n){var r=t.exports=e("../core/Matter");r.Body=e("../body/Body"),r.Composite=e("../body/Composite"),r.World=e("../body/World"),r.Contact=e("../collision/Contact"),r.Detector=e("../collision/Detector"),r.Grid=e("../collision/Grid"),r.Pairs=e("../collision/Pairs"),r.Pair=e("../collision/Pair"),r.Query=e("../collision/Query"),r.Resolver=e("../collision/Resolver"),r.SAT=e("../collision/SAT"),r.Constraint=e("../constraint/Constraint"),r.MouseConstraint=e("../constraint/MouseConstraint"),r.Common=e("../core/Common"),r.Engine=e("../core/Engine"),r.Events=e("../core/Events"),r.Mouse=e("../core/Mouse"),r.Runner=e("../core/Runner"),r.Sleeping=e("../core/Sleeping"),r.Plugin=e("../core/Plugin"),r.Bodies=e("../factory/Bodies"),r.Composites=e("../factory/Composites"),r.Axes=e("../geometry/Axes"),r.Bounds=e("../geometry/Bounds"),r.Svg=e("../geometry/Svg"),r.Vector=e("../geometry/Vector"),r.Vertices=e("../geometry/Vertices"),r.Render=e("../render/Render"),r.RenderPixi=e("../render/RenderPixi"),r.World.add=r.Composite.add,r.World.remove=r.Composite.remove,r.World.addComposite=r.Composite.addComposite,r.World.addBody=r.Composite.addBody,r.World.addConstraint=r.Composite.addConstraint,r.World.clear=r.Composite.clear,r.Engine.run=r.Runner.run},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Contact":4,"../collision/Detector":5,"../collision/Grid":6,"../collision/Pair":7,"../collision/Pairs":8,"../collision/Query":9,"../collision/Resolver":10,"../collision/SAT":11,"../constraint/Constraint":12,"../constraint/MouseConstraint":13,"../core/Common":14,"../core/Engine":15,"../core/Events":16,"../core/Matter":17,"../core/Metrics":18,"../core/Mouse":19,"../core/Plugin":20,"../core/Runner":21,"../core/Sleeping":22,"../factory/Bodies":23,"../factory/Composites":24,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Svg":27,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31,"../render/RenderPixi":32}],31:[function(e,t,n){var r={};t.exports=r;var o=e("../core/Common"),i=e("../body/Composite"),s=e("../geometry/Bounds"),a=e("../core/Events"),c=e("../collision/Grid"),l=e("../geometry/Vector"),u=e("../core/Mouse");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(o.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r.create=function(e){var t={controller:r,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#18181d",wireframeBackground:"#0f0f13",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},i=o.extend(t,e);return i.canvas&&(i.canvas.width=i.options.width||i.canvas.width,i.canvas.height=i.options.height||i.canvas.height),i.mouse=e.mouse,i.engine=e.engine,i.canvas=i.canvas||n(i.options.width,i.options.height),i.context=i.canvas.getContext("2d"),i.textures={},i.bounds=i.bounds||{min:{x:0,y:0},max:{x:i.canvas.width,y:i.canvas.height}},1!==i.options.pixelRatio&&r.setPixelRatio(i,i.options.pixelRatio),o.isElement(i.element)?i.element.appendChild(i.canvas):i.canvas.parentNode||o.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),i},r.run=function(t){!function n(o){t.frameRequestId=e(n),r.world(t)}()},r.stop=function(e){t(e.frameRequestId)},r.setPixelRatio=function(e,t){var n=e.options,r=e.canvas;"auto"===t&&(t=f(r)),n.pixelRatio=t,r.setAttribute("data-pixel-ratio",t),r.width=n.width*t,r.height=n.height*t,r.style.width=n.width+"px",r.style.height=n.height+"px",e.context.scale(t,t)},r.lookAt=function(e,t,n,r){r=void 0===r||r,t=o.isArray(t)?t:[t],n=n||{x:0,y:0};for(var i={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},s=0;s<t.length;s+=1){var a=t[s],c=a.bounds?a.bounds.min:a.min||a.position||a,l=a.bounds?a.bounds.max:a.max||a.position||a;c&&l&&(c.x<i.min.x&&(i.min.x=c.x),l.x>i.max.x&&(i.max.x=l.x),c.y<i.min.y&&(i.min.y=c.y),l.y>i.max.y&&(i.max.y=l.y))}var f=i.max.x-i.min.x+2*n.x,d=i.max.y-i.min.y+2*n.y,p=e.canvas.height,v=e.canvas.width/p,y=f/d,m=1,h=1;y>v?h=y/v:m=v/y,e.options.hasBounds=!0,e.bounds.min.x=i.min.x,e.bounds.max.x=i.min.x+f*m,e.bounds.min.y=i.min.y,e.bounds.max.y=i.min.y+d*h,r&&(e.bounds.min.x+=.5*f-f*m*.5,e.bounds.max.x+=.5*f-f*m*.5,e.bounds.min.y+=.5*d-d*h*.5,e.bounds.max.y+=.5*d-d*h*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(u.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),u.setOffset(e.mouse,e.bounds.min))},r.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,r=t/e.options.width,o=n/e.options.height;e.context.scale(1/r,1/o),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},r.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},r.world=function(e){var t,n=e.engine,o=n.world,f=e.canvas,d=e.context,v=e.options,y=i.allBodies(o),m=i.allConstraints(o),h=v.wireframes?v.wireframeBackground:v.background,g=[],x=[],b={timestamp:n.timing.timestamp};if(a.trigger(e,"beforeRender",b),e.currentBackground!==h&&p(e,h),d.globalCompositeOperation="source-in",d.fillStyle="transparent",d.fillRect(0,0,f.width,f.height),d.globalCompositeOperation="source-over",v.hasBounds){for(t=0;t<y.length;t++){var w=y[t];s.overlaps(w.bounds,e.bounds)&&g.push(w)}for(t=0;t<m.length;t++){var S=m[t],P=S.bodyA,C=S.bodyB,_=S.pointA,A=S.pointB;P&&(_=l.add(P.position,S.pointA)),C&&(A=l.add(C.position,S.pointB)),_&&A&&(s.contains(e.bounds,_)||s.contains(e.bounds,A))&&x.push(S)}r.startViewTransform(e),e.mouse&&(u.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),u.setOffset(e.mouse,e.bounds.min))}else x=m,g=y;!v.wireframes||n.enableSleeping&&v.showSleeping?r.bodies(e,g,d):(v.showConvexHulls&&r.bodyConvexHulls(e,g,d),r.bodyWireframes(e,g,d)),v.showBounds&&r.bodyBounds(e,g,d),(v.showAxes||v.showAngleIndicator)&&r.bodyAxes(e,g,d),v.showPositions&&r.bodyPositions(e,g,d),v.showVelocity&&r.bodyVelocity(e,g,d),v.showIds&&r.bodyIds(e,g,d),v.showSeparations&&r.separations(e,n.pairs.list,d),v.showCollisions&&r.collisions(e,n.pairs.list,d),v.showVertexNumbers&&r.vertexNumbers(e,g,d),v.showMousePosition&&r.mousePosition(e,e.mouse,d),r.constraints(x,d),v.showBroadphase&&n.broadphase.controller===c&&r.grid(e,n.broadphase,d),v.showDebug&&r.debug(e,d),v.hasBounds&&r.endViewTransform(e),a.trigger(e,"afterRender",b)},r.debug=function(e,t){var n=t,r=e.engine,o=r.world,s=r.metrics,a=e.options;if(i.allBodies(o),r.timing.timestamp-(e.debugTimestamp||0)>=500){var c="";s.timing&&(c+="fps: "+Math.round(s.timing.fps)+"    "),e.debugString=c,e.debugTimestamp=r.timing.timestamp}if(e.debugString){n.font="12px Arial",a.wireframes?n.fillStyle="rgba(255,255,255,0.5)":n.fillStyle="rgba(0,0,0,0.5)";for(var l=e.debugString.split("\n"),u=0;u<l.length;u++)n.fillText(l[u],50,50+18*u)}},r.constraints=function(e,t){for(var n=t,r=0;r<e.length;r++){var i=e[r];if(i.render.visible&&i.pointA&&i.pointB){var s,a,c=i.bodyA,u=i.bodyB;if(s=c?l.add(c.position,i.pointA):i.pointA,"pin"===i.render.type)n.beginPath(),n.arc(s.x,s.y,3,0,2*Math.PI),n.closePath();else{if(a=u?l.add(u.position,i.pointB):i.pointB,n.beginPath(),n.moveTo(s.x,s.y),"spring"===i.render.type)for(var f,d=l.sub(a,s),p=l.perp(l.normalise(d)),v=Math.ceil(o.clamp(i.length/5,12,20)),y=1;y<v;y+=1)f=y%2==0?1:-1,n.lineTo(s.x+d.x*(y/v)+p.x*f*4,s.y+d.y*(y/v)+p.y*f*4);n.lineTo(a.x,a.y)}i.render.lineWidth&&(n.lineWidth=i.render.lineWidth,n.strokeStyle=i.render.strokeStyle,n.stroke()),i.render.anchors&&(n.fillStyle=i.render.strokeStyle,n.beginPath(),n.arc(s.x,s.y,3,0,2*Math.PI),n.arc(a.x,a.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},r.bodyShadows=function(e,t,n){for(var r=n,o=(e.engine,0);o<t.length;o++){var i=t[o];if(i.render.visible){if(i.circleRadius)r.beginPath(),r.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI),r.closePath();else{r.beginPath(),r.moveTo(i.vertices[0].x,i.vertices[0].y);for(var s=1;s<i.vertices.length;s++)r.lineTo(i.vertices[s].x,i.vertices[s].y);r.closePath()}var a=i.position.x-.5*e.options.width,c=i.position.y-.2*e.options.height,l=Math.abs(a)+Math.abs(c);r.shadowColor="rgba(0,0,0,0.15)",r.shadowOffsetX=.05*a,r.shadowOffsetY=.05*c,r.shadowBlur=1+12*Math.min(1,l/1e3),r.fill(),r.shadowColor=null,r.shadowOffsetX=null,r.shadowOffsetY=null,r.shadowBlur=null}}},r.bodies=function(e,t,n){var r,o,i,s,a=n,c=(e.engine,e.options),l=c.showInternalEdges||!c.wireframes;for(i=0;i<t.length;i++)if((r=t[i]).render.visible)for(s=r.parts.length>1?1:0;s<r.parts.length;s++)if((o=r.parts[s]).render.visible){if(c.showSleeping&&r.isSleeping?a.globalAlpha=.5*o.render.opacity:1!==o.render.opacity&&(a.globalAlpha=o.render.opacity),o.render.sprite&&o.render.sprite.texture&&!c.wireframes){var u=o.render.sprite,f=d(e,u.texture);a.translate(o.position.x,o.position.y),a.rotate(o.angle),a.drawImage(f,f.width*-u.xOffset*u.xScale,f.height*-u.yOffset*u.yScale,f.width*u.xScale,f.height*u.yScale),a.rotate(-o.angle),a.translate(-o.position.x,-o.position.y)}else{if(o.circleRadius)a.beginPath(),a.arc(o.position.x,o.position.y,o.circleRadius,0,2*Math.PI);else{a.beginPath(),a.moveTo(o.vertices[0].x,o.vertices[0].y);for(var p=1;p<o.vertices.length;p++)!o.vertices[p-1].isInternal||l?a.lineTo(o.vertices[p].x,o.vertices[p].y):a.moveTo(o.vertices[p].x,o.vertices[p].y),o.vertices[p].isInternal&&!l&&a.moveTo(o.vertices[(p+1)%o.vertices.length].x,o.vertices[(p+1)%o.vertices.length].y);a.lineTo(o.vertices[0].x,o.vertices[0].y),a.closePath()}c.wireframes?(a.lineWidth=1,a.strokeStyle="#bbb",a.stroke()):(a.fillStyle=o.render.fillStyle,o.render.lineWidth&&(a.lineWidth=o.render.lineWidth,a.strokeStyle=o.render.strokeStyle,a.stroke()),a.fill())}a.globalAlpha=1}},r.bodyWireframes=function(e,t,n){var r,o,i,s,a,c=n,l=e.options.showInternalEdges;for(c.beginPath(),i=0;i<t.length;i++)if((r=t[i]).render.visible)for(a=r.parts.length>1?1:0;a<r.parts.length;a++){for(o=r.parts[a],c.moveTo(o.vertices[0].x,o.vertices[0].y),s=1;s<o.vertices.length;s++)!o.vertices[s-1].isInternal||l?c.lineTo(o.vertices[s].x,o.vertices[s].y):c.moveTo(o.vertices[s].x,o.vertices[s].y),o.vertices[s].isInternal&&!l&&c.moveTo(o.vertices[(s+1)%o.vertices.length].x,o.vertices[(s+1)%o.vertices.length].y);c.lineTo(o.vertices[0].x,o.vertices[0].y)}c.lineWidth=1,c.strokeStyle="#bbb",c.stroke()},r.bodyConvexHulls=function(e,t,n){var r,o,i,s=n;for(s.beginPath(),o=0;o<t.length;o++)if((r=t[o]).render.visible&&1!==r.parts.length){for(s.moveTo(r.vertices[0].x,r.vertices[0].y),i=1;i<r.vertices.length;i++)s.lineTo(r.vertices[i].x,r.vertices[i].y);s.lineTo(r.vertices[0].x,r.vertices[0].y)}s.lineWidth=1,s.strokeStyle="rgba(255,255,255,0.2)",s.stroke()},r.vertexNumbers=function(e,t,n){var r,o,i,s=n;for(r=0;r<t.length;r++){var a=t[r].parts;for(i=a.length>1?1:0;i<a.length;i++){var c=a[i];for(o=0;o<c.vertices.length;o++)s.fillStyle="rgba(255,255,255,0.2)",s.fillText(r+"_"+o,c.position.x+.8*(c.vertices[o].x-c.position.x),c.position.y+.8*(c.vertices[o].y-c.position.y))}}},r.mousePosition=function(e,t,n){var r=n;r.fillStyle="rgba(255,255,255,0.8)",r.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},r.bodyBounds=function(e,t,n){var r=n,o=(e.engine,e.options);r.beginPath();for(var i=0;i<t.length;i++)if(t[i].render.visible)for(var s=t[i].parts,a=s.length>1?1:0;a<s.length;a++){var c=s[a];r.rect(c.bounds.min.x,c.bounds.min.y,c.bounds.max.x-c.bounds.min.x,c.bounds.max.y-c.bounds.min.y)}o.wireframes?r.strokeStyle="rgba(255,255,255,0.08)":r.strokeStyle="rgba(0,0,0,0.1)",r.lineWidth=1,r.stroke()},r.bodyAxes=function(e,t,n){var r,o,i,s,a=n,c=(e.engine,e.options);for(a.beginPath(),o=0;o<t.length;o++){var l=t[o],u=l.parts;if(l.render.visible)if(c.showAxes)for(i=u.length>1?1:0;i<u.length;i++)for(r=u[i],s=0;s<r.axes.length;s++){var f=r.axes[s];a.moveTo(r.position.x,r.position.y),a.lineTo(r.position.x+20*f.x,r.position.y+20*f.y)}else for(i=u.length>1?1:0;i<u.length;i++)for(r=u[i],s=0;s<r.axes.length;s++)a.moveTo(r.position.x,r.position.y),a.lineTo((r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}c.wireframes?(a.strokeStyle="indianred",a.lineWidth=1):(a.strokeStyle="rgba(255, 255, 255, 0.4)",a.globalCompositeOperation="overlay",a.lineWidth=2),a.stroke(),a.globalCompositeOperation="source-over"},r.bodyPositions=function(e,t,n){var r,o,i,s,a=n,c=(e.engine,e.options);for(a.beginPath(),i=0;i<t.length;i++)if((r=t[i]).render.visible)for(s=0;s<r.parts.length;s++)o=r.parts[s],a.arc(o.position.x,o.position.y,3,0,2*Math.PI,!1),a.closePath();for(c.wireframes?a.fillStyle="indianred":a.fillStyle="rgba(0,0,0,0.5)",a.fill(),a.beginPath(),i=0;i<t.length;i++)(r=t[i]).render.visible&&(a.arc(r.positionPrev.x,r.positionPrev.y,2,0,2*Math.PI,!1),a.closePath());a.fillStyle="rgba(255,165,0,0.8)",a.fill()},r.bodyVelocity=function(e,t,n){var r=n;r.beginPath();for(var o=0;o<t.length;o++){var i=t[o];i.render.visible&&(r.moveTo(i.position.x,i.position.y),r.lineTo(i.position.x+2*(i.position.x-i.positionPrev.x),i.position.y+2*(i.position.y-i.positionPrev.y)))}r.lineWidth=3,r.strokeStyle="cornflowerblue",r.stroke()},r.bodyIds=function(e,t,n){var r,o,i=n;for(r=0;r<t.length;r++)if(t[r].render.visible){var s=t[r].parts;for(o=s.length>1?1:0;o<s.length;o++){var a=s[o];i.font="12px Arial",i.fillStyle="rgba(255,255,255,0.5)",i.fillText(a.id,a.position.x+10,a.position.y-10)}}},r.collisions=function(e,t,n){var r,o,i,s,a=n,c=e.options;for(a.beginPath(),i=0;i<t.length;i++)if((r=t[i]).isActive)for(o=r.collision,s=0;s<r.activeContacts.length;s++){var l=r.activeContacts[s].vertex;a.rect(l.x-1.5,l.y-1.5,3.5,3.5)}for(c.wireframes?a.fillStyle="rgba(255,255,255,0.7)":a.fillStyle="orange",a.fill(),a.beginPath(),i=0;i<t.length;i++)if((r=t[i]).isActive&&(o=r.collision,r.activeContacts.length>0)){var u=r.activeContacts[0].vertex.x,f=r.activeContacts[0].vertex.y;2===r.activeContacts.length&&(u=(r.activeContacts[0].vertex.x+r.activeContacts[1].vertex.x)/2,f=(r.activeContacts[0].vertex.y+r.activeContacts[1].vertex.y)/2),o.bodyB===o.supports[0].body||!0===o.bodyA.isStatic?a.moveTo(u-8*o.normal.x,f-8*o.normal.y):a.moveTo(u+8*o.normal.x,f+8*o.normal.y),a.lineTo(u,f)}c.wireframes?a.strokeStyle="rgba(255,165,0,0.7)":a.strokeStyle="orange",a.lineWidth=1,a.stroke()},r.separations=function(e,t,n){var r,o,i,s,a,c=n,l=e.options;for(c.beginPath(),a=0;a<t.length;a++)if((r=t[a]).isActive){i=(o=r.collision).bodyA;var u=1;(s=o.bodyB).isStatic||i.isStatic||(u=.5),s.isStatic&&(u=0),c.moveTo(s.position.x,s.position.y),c.lineTo(s.position.x-o.penetration.x*u,s.position.y-o.penetration.y*u),u=1,s.isStatic||i.isStatic||(u=.5),i.isStatic&&(u=0),c.moveTo(i.position.x,i.position.y),c.lineTo(i.position.x+o.penetration.x*u,i.position.y+o.penetration.y*u)}l.wireframes?c.strokeStyle="rgba(255,165,0,0.5)":c.strokeStyle="orange",c.stroke()},r.grid=function(e,t,n){var r=n;e.options.wireframes?r.strokeStyle="rgba(255,180,0,0.1)":r.strokeStyle="rgba(255,180,0,0.5)",r.beginPath();for(var i=o.keys(t.buckets),s=0;s<i.length;s++){var a=i[s];if(!(t.buckets[a].length<2)){var c=a.split(/C|R/);r.rect(.5+parseInt(c[1],10)*t.bucketWidth,.5+parseInt(c[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}r.lineWidth=1,r.stroke()},r.inspector=function(e,t){e.engine;var n,r=e.selected,o=e.render,i=o.options;if(i.hasBounds){var s=o.bounds.max.x-o.bounds.min.x,a=o.bounds.max.y-o.bounds.min.y,c=s/o.options.width,l=a/o.options.height;t.scale(1/c,1/l),t.translate(-o.bounds.min.x,-o.bounds.min.y)}for(var u=0;u<r.length;u++){var f=r[u].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),f.type){case"body":n=f.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var d=f.pointA;f.bodyA&&(d=f.pointB),t.beginPath(),t.arc(d.x,d.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),i.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},f=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},d=function(e,t){var n=e.textures[t];return n||((n=e.textures[t]=new Image).src=t,n)},p=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},{"../body/Composite":2,"../collision/Grid":6,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../geometry/Bounds":26,"../geometry/Vector":28}],32:[function(e,t,n){var r={};t.exports=r;var o=e("../geometry/Bounds"),i=e("../body/Composite"),s=e("../core/Common"),a=e("../core/Events"),c=e("../geometry/Vector");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(s.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),r.create=function(e){s.warn("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)");var t={controller:r,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},n=s.extend(t,e),o=!n.options.wireframes&&"transparent"===n.options.background;return n.pixiOptions=n.pixiOptions||{view:n.canvas,transparent:o,antialias:!0,backgroundColor:e.background},n.mouse=e.mouse,n.engine=e.engine,n.renderer=n.renderer||new PIXI.WebGLRenderer(n.options.width,n.options.height,n.pixiOptions),n.container=n.container||new PIXI.Container,n.spriteContainer=n.spriteContainer||new PIXI.Container,n.canvas=n.canvas||n.renderer.view,n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.options.width,y:n.options.height}},a.on(n.engine,"beforeUpdate",(function(){r.clear(n)})),n.textures={},n.sprites={},n.primitives={},n.container.addChild(n.spriteContainer),s.isElement(n.element)?n.element.appendChild(n.canvas):s.warn('No "render.element" passed, "render.canvas" was not inserted into document.'),n.canvas.oncontextmenu=function(){return!1},n.canvas.onselectstart=function(){return!1},n},r.run=function(t){!function n(o){t.frameRequestId=e(n),r.world(t)}()},r.stop=function(e){t(e.frameRequestId)},r.clear=function(e){for(var t=e.container,n=e.spriteContainer;t.children[0];)t.removeChild(t.children[0]);for(;n.children[0];)n.removeChild(n.children[0]);var r=e.sprites["bg-0"];e.textures={},e.sprites={},e.primitives={},e.sprites["bg-0"]=r,r&&t.addChildAt(r,0),e.container.addChild(e.spriteContainer),e.currentBackground=null,t.scale.set(1,1),t.position.set(0,0)},r.setBackground=function(e,t){if(e.currentBackground!==t){var n=t.indexOf&&-1!==t.indexOf("#"),r=e.sprites["bg-0"];if(n){var o=s.colorToNumber(t);e.renderer.backgroundColor=o,r&&e.container.removeChild(r)}else if(!r){var i=u(e,t);(r=e.sprites["bg-0"]=new PIXI.Sprite(i)).position.x=0,r.position.y=0,e.container.addChildAt(r,0)}e.currentBackground=t}},r.world=function(e){var t,n=e.engine.world,s=e.renderer,a=e.container,l=e.options,u=i.allBodies(n),f=i.allConstraints(n),d=[];l.wireframes?r.setBackground(e,l.wireframeBackground):r.setBackground(e,l.background);var p=e.bounds.max.x-e.bounds.min.x,v=e.bounds.max.y-e.bounds.min.y,y=p/e.options.width,m=v/e.options.height;if(l.hasBounds){for(t=0;t<u.length;t++){var h=u[t];h.render.sprite.visible=o.overlaps(h.bounds,e.bounds)}for(t=0;t<f.length;t++){var g=f[t],x=g.bodyA,b=g.bodyB,w=g.pointA,S=g.pointB;x&&(w=c.add(x.position,g.pointA)),b&&(S=c.add(b.position,g.pointB)),w&&S&&(o.contains(e.bounds,w)||o.contains(e.bounds,S))&&d.push(g)}a.scale.set(1/y,1/m),a.position.set(-e.bounds.min.x*(1/y),-e.bounds.min.y*(1/m))}else d=f;for(t=0;t<u.length;t++)r.body(e,u[t]);for(t=0;t<d.length;t++)r.constraint(e,d[t]);s.render(a)},r.constraint=function(e,t){e.engine;var n=t.bodyA,r=t.bodyB,o=t.pointA,i=t.pointB,a=e.container,c=t.render,l="c-"+t.id,u=e.primitives[l];u||(u=e.primitives[l]=new PIXI.Graphics),c.visible&&t.pointA&&t.pointB?(-1===s.indexOf(a.children,u)&&a.addChild(u),u.clear(),u.beginFill(0,0),u.lineStyle(c.lineWidth,s.colorToNumber(c.strokeStyle),1),n?u.moveTo(n.position.x+o.x,n.position.y+o.y):u.moveTo(o.x,o.y),r?u.lineTo(r.position.x+i.x,r.position.y+i.y):u.lineTo(i.x,i.y),u.endFill()):u.clear()},r.body=function(e,t){e.engine;var r=t.render;if(r.visible)if(r.sprite&&r.sprite.texture){var o="b-"+t.id,i=e.sprites[o],a=e.spriteContainer;i||(i=e.sprites[o]=n(e,t)),-1===s.indexOf(a.children,i)&&a.addChild(i),i.position.x=t.position.x,i.position.y=t.position.y,i.rotation=t.angle,i.scale.x=r.sprite.xScale||1,i.scale.y=r.sprite.yScale||1}else{var c="b-"+t.id,u=e.primitives[c],f=e.container;u||((u=e.primitives[c]=l(e,t)).initialAngle=t.angle),-1===s.indexOf(f.children,u)&&f.addChild(u),u.position.x=t.position.x,u.position.y=t.position.y,u.rotation=t.angle-u.initialAngle}};var n=function(e,t){var n=t.render.sprite.texture,r=u(e,n),o=new PIXI.Sprite(r);return o.anchor.x=t.render.sprite.xOffset,o.anchor.y=t.render.sprite.yOffset,o},l=function(e,t){var n,r=t.render,o=e.options,i=new PIXI.Graphics,a=s.colorToNumber(r.fillStyle),c=s.colorToNumber(r.strokeStyle),l=s.colorToNumber(r.strokeStyle),u=s.colorToNumber("#bbb"),f=s.colorToNumber("#CD5C5C");i.clear();for(var d=t.parts.length>1?1:0;d<t.parts.length;d++){n=t.parts[d],o.wireframes?(i.beginFill(0,0),i.lineStyle(1,u,1)):(i.beginFill(a,1),i.lineStyle(r.lineWidth,c,1)),i.moveTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y);for(var p=1;p<n.vertices.length;p++)i.lineTo(n.vertices[p].x-t.position.x,n.vertices[p].y-t.position.y);i.lineTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y),i.endFill(),(o.showAngleIndicator||o.showAxes)&&(i.beginFill(0,0),o.wireframes?i.lineStyle(1,f,1):i.lineStyle(1,l),i.moveTo(n.position.x-t.position.x,n.position.y-t.position.y),i.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2-t.position.x,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2-t.position.y),i.endFill())}return i},u=function(e,t){var n=e.textures[t];return n||(n=e.textures[t]=PIXI.Texture.fromImage(t)),n}}()},{"../body/Composite":2,"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"../geometry/Vector":28}]},{},[30])(30)}).call(this,n(150))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(30);n(11)(t,"__esModule",{value:!0}),t.default=function(e){return new o.default((function(t,n){var r=new Image;r.onload=function(){t({width:this.width,height:this.height})},r.onerror=n,r.src=e}))};var o=r(n(67))}]);
//# sourceMappingURL=index.js.map